webpackJsonp([3],{103:function(t,e){},104:function(t,e){},105:function(t,e){},106:function(t,e){},1068:function(t,e){},107:function(t,e){},1081:function(t,e){},109:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"quill-editor"},[t._t("toolbar"),t._v(" "),a("div",{ref:"editor"})],2)},staticRenderFns:[]}},1096:function(t,e){},1097:function(t,e){},11:function(t,e,a){"use strict";var i=a(6),n=a(12),r=a(7),s=a.n(r);a(10);i.default.use(n.a),sessionStorage.loginData||(window.location.href="/login.html#/"),""!=s.a&&(i.default.http.options.xhr={withCredentials:!0}),i.default.http.interceptors.push(function(t,e){""!=s.a&&(t.credentials=!0),sessionStorage.token&&t.headers.set("Authorization",sessionStorage.token),e(function(t){if(-5==t.body.code)window.location.href="/login.html#/";else{if(-10!=t.body.code)return t;window.location.href=s.a.error_url}})}),window.FormatDate=function(t,e){if(t instanceof Date){var a={"M+":t.getMonth()+1,"d+":t.getDate(),"h+":t.getHours(),"m+":t.getMinutes(),"s+":t.getSeconds(),"q+":Math.floor((t.getMonth()+3)/3),S:t.getMilliseconds()};/(y+)/.test(e)&&(e=e.replace(RegExp.$1,(t.getFullYear()+"").substr(4-RegExp.$1.length)));for(var i in a)new RegExp("("+i+")").test(e)&&(e=e.replace(RegExp.$1,1==RegExp.$1.length?a[i]:("00"+a[i]).substr((""+a[i]).length)));return e}throw new Error("日期格式转换发现错误的参数类型")},Date.prototype.FormatDate=function(t){var e={"M+":this.getMonth()+1,"d+":this.getDate(),"h+":this.getHours(),"m+":this.getMinutes(),"s+":this.getSeconds(),"q+":Math.floor((this.getMonth()+3)/3),S:this.getMilliseconds()};/(y+)/.test(t)&&(t=t.replace(RegExp.$1,(this.getFullYear()+"").substr(4-RegExp.$1.length)));for(var a in e)new RegExp("("+a+")").test(t)&&(t=t.replace(RegExp.$1,1==RegExp.$1.length?e[a]:("00"+e[a]).substr((""+e[a]).length)));return t},function(){var t=window.location.href;!(t.indexOf("login.html")>0)||t.endsWith("login.html")&&t.endsWith("login.html#")&&t.endsWith("login.html#/")||(window.location.href="/login.html#/")}(),String.prototype.TrimBlank=function(){return this.replace(/(^\s*)|(\s*$)/g,"")},window.dateChange=function(t){var e=new Date;return e.setDate(e.getDate()+t),e.getFullYear()+"-"+(e.getMonth()+1<10?"0"+(e.getMonth()+1):e.getMonth()+1)+"-"+(e.getDate()<10?"0"+e.getDate():e.getDate())},window.DateDiff=function(t,e){var a=void 0,i=void 0,n=void 0;return a=t.split("-"),i=new Date(parseInt(a[1])+"-"+parseInt(a[2])+"-"+parseInt(a[0])),a=e.split("-"),n=new Date(parseInt(a[1])+"-"+parseInt(a[2])+"-"+parseInt(a[0])),parseInt((i-n)/1e3/60/60/24)},window.filterSendData=function(t,e){for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(t[a]||0===t[a]||("delete"===e||void 0===e?delete t[a]:"blankStr"===e?t[a]="":"null"===e&&(t[a]=null)));return t},Array.prototype.removeArr=function(t){for(var e=0;e<this.length;e++)if(this[e]==t){this.splice(e,1);break}},window.RegExObj={moneyTwoPoint:/(^[1-9]([0-9]+)?(\.[0-9]{1,2})?$)|(^(0){1}$)|(^[0-9]\.[0-9]([0-9])?$)/,mobildPhone:function(t){return/^((0\d{2,3}-\d{7,8})|(1[34578]\d{9}))$/.test(t)},idCard:function(t){var t,e,a,i,n=new Array("ok","身份证号码位数不对!","身份证号码出生日期超出范围或含有非法字符!","验证失败，请注意数字或字母大小写的准确性，填写正确的验证信息!","身份证地区非法!"),r={11:"北京",12:"天津",13:"河北",14:"山西",15:"内蒙古",21:"辽宁",22:"吉林",23:"黑龙江",31:"上海",32:"江苏",33:"浙江",34:"安徽",35:"福建",36:"江西",37:"山东",41:"河南",42:"湖北",43:"湖南",44:"广东",45:"广西",46:"海南",50:"重庆",51:"四川",52:"贵州",53:"云南",54:"西藏",61:"陕西",62:"甘肃",63:"青海",64:"宁夏",65:"新疆",71:"台湾",81:"香港",82:"澳门",91:"国外"},s=new Array;s=t.split("");var o=r[parseInt(t.substr(0,2))];if(null==o)return{start:0,info:n[4]};var l="",c="";switch(t.length){case 15:l="19"+t.substr(6,2)+"-"+t.substr(8,2)+"-"+t.substr(10,2),c=t.substring(14,15);break;case 18:if(l=t.substr(6,4)+"-"+t.substr(10,2)+"-"+t.substr(12,2),c=t.substring(16,17),i=7*(parseInt(s[0])+parseInt(s[10]))+9*(parseInt(s[1])+parseInt(s[11]))+10*(parseInt(s[2])+parseInt(s[12]))+5*(parseInt(s[3])+parseInt(s[13]))+8*(parseInt(s[4])+parseInt(s[14]))+4*(parseInt(s[5])+parseInt(s[15]))+2*(parseInt(s[6])+parseInt(s[16]))+1*parseInt(s[7])+6*parseInt(s[8])+3*parseInt(s[9]),e=i%11,"F",a="10X98765432",a.substr(e,1)!=s[17])return{start:0,info:n[3]};break;default:return{start:0,info:n[1]}}var u="";return u=c%2==0?"女":"男",{start:1,data:{area:o,birthday:l,sex:u}}},passport:function(t){return/^1[45][0-9]{7}|([P|S]\d{7})|([S|G]\d{8})|([G|T|S|L|Q|D|A|F|E]\d{8})|([G|T|S|L|Q|D|A|F|E][\w]\d{7})|([H|M]\d{8,10})$/.test(t)}},window.menuData=null},110:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"quilleditor"},[a("quill-editor",{ref:"myTextEditor",class:{backColor:t.readonly},attrs:{options:t.editorOption,disabled:t.readonly},on:{blur:function(e){t.onEditorBlur(e)},change:function(e){t.onEditorChange(e)},focus:function(e){t.onEditorFocus(e)},ready:function(e){t.onEditorReady(e)}},model:{value:t.dcontent,callback:function(e){t.dcontent=e},expression:"dcontent"}})],1)},staticRenderFns:[]}},1103:function(t,e){},1116:function(t,e){},1121:function(t,e){},1144:function(t,e){},1157:function(t,e){},1166:function(t,e){},1169:function(t,e){},1316:function(t,e,a){function i(t){a(1166)}var n=a(0)(a(638),a(1514),i,"data-v-727958af",null);t.exports=n.exports},1317:function(t,e,a){function i(t){a(1097)}var n=a(0)(a(640),a(1424),i,"data-v-2611e465",null);t.exports=n.exports},1318:function(t,e,a){var i=a(0)(a(641),a(1462),null,null,null);t.exports=i.exports},1319:function(t,e,a){function i(t){a(1157)}var n=a(0)(a(642),a(1503),i,"data-v-67bcf371",null);t.exports=n.exports},1320:function(t,e,a){function i(t){a(1144)}var n=a(0)(a(643),a(1487),i,"data-v-5cc36f86",null);t.exports=n.exports},1321:function(t,e,a){function i(t){a(1096)}var n=a(0)(a(644),a(1423),i,"data-v-258007f5",null);t.exports=n.exports},1322:function(t,e,a){function i(t){a(1068)}var n=a(0)(a(646),a(1389),i,"data-v-02137387",null);t.exports=n.exports},1323:function(t,e,a){function i(t){a(1169)}var n=a(0)(a(647),a(1517),i,"data-v-7435de9d",null);t.exports=n.exports},1324:function(t,e,a){function i(t){a(1081)}var n=a(0)(a(648),a(1404),i,"data-v-14976393",null);t.exports=n.exports},1325:function(t,e,a){function i(t){a(1116)}var n=a(0)(a(649),a(1448),i,"data-v-3f9d5f72",null);t.exports=n.exports},1326:function(t,e,a){var i=a(0)(a(650),a(1489),null,null,null);t.exports=i.exports},1389:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"jdy-content jdy-transfer fleft"},[a("div",{staticClass:"jdy-content-inner"},[a("inner-header",{attrs:{activename:t.headerData.name,savebtn:t.headerData.btnFlag,title:t.headerData.title},on:{savedata:t.saveContract}}),t._v(" "),a("el-form",{ref:"lineForm",staticClass:"formcenter",attrs:{model:t.lineForm,"label-width":"100px"}},[a("el-row",[a("div",{staticClass:"priceTitle"},[t._v("选择合同模板：")]),t._v(" "),a("div",{staticClass:"alertBody"},[a("el-radio-group",{model:{value:t.tempId,callback:function(e){t.tempId=e},expression:"tempId"}},t._l(t.tempIdGroup,function(e){return a("el-radio",{key:e.id,attrs:{label:e.id}},[t._v(t._s(e.templateTitle))])}))],1)])],1)],1)])},staticRenderFns:[]}},1404:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"jl-information jl-onlinebill"},[a("div",{staticClass:"jdy-content jdy-transfer fleft jl-ad"},[a("div",{staticClass:"jdy-content-inner-trip"},[a("div",{staticClass:"jdy-tab"},[a("a",{class:{active:null==t.jdytabActive},attrs:{href:"javascript:;",title:""},on:{click:function(e){t.jdytab(null)}}},[t._v("全部\n          "),a("span")]),t._v(" "),a("a",{class:{active:1==t.jdytabActive},attrs:{href:"javascript:;",title:""},on:{click:function(e){t.jdytab(1)}}},[t._v("待申报\n          "),a("span")]),t._v(" "),a("a",{class:{active:2==t.jdytabActive},attrs:{href:"javascript:;",title:""},on:{click:function(e){t.jdytab(2)}}},[t._v("已完成\n          "),a("span")]),t._v(" "),a("a",{class:{active:4==t.jdytabActive},attrs:{href:"javascript:;",title:""},on:{click:function(e){t.jdytab(4)}}},[t._v("销售中\n          "),a("span")]),t._v(" "),a("el-button",{staticClass:"fr mt10 mr10 btnInTab",attrs:{type:"default"},on:{click:t.refreshBtn}},[t._v("\n          刷新\n        ")])],1),t._v(" "),a("div",{staticClass:"jdy-searchPart"},[a("el-form",{ref:"ruleForm",attrs:{model:t.ruleForm,inline:!0,"label-width":"100px"}},[a("el-row",{staticStyle:{width:"100%"}},[a("el-form-item",[a("el-select",{staticStyle:{width:"100%"},attrs:{clearable:"",placeholder:"请选择门票类型"},model:{value:t.ruleForm.admissionType,callback:function(e){t.$set(t.ruleForm,"admissionType",e)},expression:"ruleForm.admissionType"}},t._l(t.ticketList,function(t){return a("el-option",{key:t.id,attrs:{label:t.tName,value:t.id}})}))],1),t._v(" "),a("el-form-item",{attrs:{label:"","label-width":"100px"}},[a("el-input",{attrs:{placeholder:"请输入产品名称、产品编号"},model:{value:t.ruleForm.searchString,callback:function(e){t.$set(t.ruleForm,"searchString",e)},expression:"ruleForm.searchString"}})],1),t._v(" "),a("el-button",{staticClass:"btnInTab",attrs:{type:"primary"},on:{click:t.firstSearch}},[t._v("搜索")])],1)],1)],1)]),t._v(" "),a("div",{staticClass:"jdy-table p10"},[a("el-table",{staticStyle:{width:"100%"},attrs:{data:t.tableData,border:""}},[a("el-table-column",{attrs:{label:"序号",type:"index"}}),t._v(" "),a("el-table-column",{attrs:{label:"产品编号","min-width":"150px"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("span",{staticClass:"jl-noticeTitle"},[t._v(t._s(e.row.ticketProductCode))])]}}])}),t._v(" "),a("el-table-column",{attrs:{label:"产品名称","min-width":"350px"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("div",{staticStyle:{"text-align":"left",padding:"10px 0 10px 30px"}},[a("span",[t._v(t._s(e.row.ticketProductName))])])]}}])}),t._v(" "),a("el-table-column",{attrs:{label:"门票类型","min-width":"150px"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("span",[t._v(t._s(0==e.row.ticketProductType?"儿童票":"成人票"))])]}}])}),t._v(" "),a("el-table-column",{attrs:{label:"产品经理","min-width":"150px"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("span",{staticClass:"jl-noticeTitle"},[t._v(t._s(e.row.productManagerName))])]}}])}),t._v(" "),a("el-table-column",{attrs:{label:"状态","min-width":"150px"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("span",[t._v(t._s(t._f("filterStatus")(e.row.admissionStatus)))])]}}])}),t._v(" "),a("el-table-column",{attrs:{label:"编辑时间","min-width":"150px"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("span",{staticClass:"jl-noticeTitle"},[t._v(t._s(t._f("dateFormat")(e.row.createrTime)))])]}}])}),t._v(" "),a("el-table-column",{attrs:{label:"操作","min-width":"180"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-button",{directives:[{name:"show",rawName:"v-show",value:1==e.row.admissionStatus,expression:"scope.row.admissionStatus==1"}],attrs:{type:"primary",size:"mini"},on:{click:function(a){t.declaration(e.row.id)}}},[t._v("申报确认")]),t._v(" "),a("el-button",{directives:[{name:"show",rawName:"v-show",value:2==e.row.admissionStatus,expression:"scope.row.admissionStatus==2"}],attrs:{type:"primary",size:"mini"},on:{click:function(a){t.entreStore(e.row.id)}}},[t._v("入库")]),t._v(" "),a("el-button",{directives:[{name:"show",rawName:"v-show",value:3==e.row.admissionStatus,expression:"scope.row.admissionStatus==3"}],attrs:{type:"primary",size:"mini"},on:{click:function(a){t.outStore(e.row.id)}}},[t._v("出库")]),t._v(" "),a("el-button",{directives:[{name:"show",rawName:"v-show",value:4==e.row.admissionStatus,expression:"scope.row.admissionStatus==4"}],attrs:{type:"primary",size:"mini"},on:{click:function(a){t.getStore(e.row.id)}}},[t._v("查看库存")]),t._v(" "),a("el-button",{attrs:{type:"primary",size:"mini"},on:{click:function(a){t.editTicket(e.row.id)}}},[t._v("配置票价")])]}}])})],1),t._v(" "),a("div",{staticClass:"clearfix"},[a("el-pagination",{staticClass:"fright pageMargin",attrs:{"current-page":t.currentPage,"page-size":t.pageSizeAll,total:t.tableDataTotal},on:{"current-change":t.handleCurrentChange,"update:currentPage":function(e){t.currentPage=e}}})],1)],1)]),t._v(" "),t.alertflag?a("jdy-alert",{staticClass:"alertCityList showtfcity refund",staticStyle:{width:"1000px"},attrs:{title:"查看库存记录"},on:{closeAlert:t.closeAlert}},[a("div",{staticClass:"produceWrap"},[a("el-table",{staticStyle:{width:"100%"},attrs:{data:t.stockTableData,border:""}},[a("el-table-column",{attrs:{label:"票价名称","min-width":"120px"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("span",[t._v(t._s(e.row.apName))])]}}])}),t._v(" "),a("el-table-column",{attrs:{label:"票价类型","min-width":"80px"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v("\n            "+t._s(0==e.row.apType?"单票":"套票")+"     \n          ")]}}])}),t._v(" "),a("el-table-column",{attrs:{label:"库存数量"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("span",[t._v(t._s(-1==e.row.apStock?"无限制":e.row.apStock))])]}}])}),t._v(" "),a("el-table-column",{attrs:{label:"适用时间","min-width":"200px"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v("\n            "+t._s(e.row.lifeStartDate)+"~"+t._s(e.row.lifeEndDate)+"\n          ")]}}])}),t._v(" "),a("el-table-column",{attrs:{label:"操作时间","min-width":"200px"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v("\n            "+t._s(t._f("dateFormat")(e.row.updateTime,"time"))+"\n          ")]}}])})],1),t._v(" "),a("div",{staticClass:"clearfix"},[a("el-pagination",{staticClass:"fright pageMargin",attrs:{"current-page":t.stockcurrentPage,"page-size":t.stockpageSizeAll,total:t.stockTableDataTotal},on:{"current-change":t.stockCurrentChange,"update:currentPage":function(e){t.stockcurrentPage=e}}})],1)],1)]):t._e()],1)},staticRenderFns:[]}},1423:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"jl-information jl-onlinebill"},[a("div",{staticClass:"jdy-content jdy-transfer fleft jl-ad"},[a("div",{staticClass:"jdy-content-inner-trip"},[a("div",{staticClass:"jdy-tab"},[a("a",{class:{active:null==t.jdytabActive},attrs:{href:"javascript:;",title:""},on:{click:function(e){t.jdytab(null)}}},[t._v("全部\n          "),a("span")]),t._v(" "),a("a",{class:{active:3==t.jdytabActive},attrs:{href:"javascript:;",title:""},on:{click:function(e){t.jdytab(3)}}},[t._v("未上架\n          "),a("span")]),t._v(" "),a("a",{class:{active:4==t.jdytabActive},attrs:{href:"javascript:;",title:""},on:{click:function(e){t.jdytab(4)}}},[t._v("已上架\n          "),a("span")]),t._v(" "),a("el-button",{staticClass:"fr mt10 mr10 btnInTab",attrs:{type:"default"},on:{click:t.refreshBtn}},[t._v("\n          刷新\n        ")])],1),t._v(" "),a("div",{staticClass:"jdy-searchPart"},[a("el-form",{ref:"ruleForm",attrs:{model:t.ruleForm,inline:!0,"label-width":"100px"}},[a("el-row",{staticStyle:{width:"100%"}},[a("el-form-item",[a("el-select",{staticStyle:{width:"100%"},attrs:{clearable:"",placeholder:"请选择门票类型"},model:{value:t.ruleForm.admissionType,callback:function(e){t.$set(t.ruleForm,"admissionType",e)},expression:"ruleForm.admissionType"}},t._l(t.ticketList,function(t){return a("el-option",{key:t.id,attrs:{label:t.tName,value:t.id}})}))],1),t._v(" "),a("el-form-item",{attrs:{label:"","label-width":"100px"}},[a("el-input",{attrs:{placeholder:"请输入产品名称、产品编号"},model:{value:t.ruleForm.searchString,callback:function(e){t.$set(t.ruleForm,"searchString","string"==typeof e?e.trim():e)},expression:"ruleForm.searchString"}})],1),t._v(" "),a("el-button",{staticClass:"btnInTab",attrs:{type:"primary"},on:{click:t.firstSearch}},[t._v("搜索")])],1)],1)],1)]),t._v(" "),a("div",{staticClass:"jdy-table p10 jl-onlinebill"},[a("el-table",{staticStyle:{width:"100%"},attrs:{data:t.tableData,border:""}},[a("el-table-column",{attrs:{label:"序号",type:"index"}}),t._v(" "),a("el-table-column",{attrs:{label:"产品编号","min-width":"150px"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("span",{staticClass:"jl-noticeTitle"},[t._v(t._s(e.row.ticketProductCode))])]}}])}),t._v(" "),a("el-table-column",{attrs:{label:"产品名称","min-width":"350px"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("div",{staticStyle:{"text-align":"left",padding:"10px 0 10px 30px"}},[a("span",[t._v(t._s(e.row.ticketProductName))])])]}}])}),t._v(" "),a("el-table-column",{attrs:{label:"门票类型","min-width":"150px"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("span",[t._v(t._s(0==e.row.ticketProductType?"儿童票":"成人票"))])]}}])}),t._v(" "),a("el-table-column",{attrs:{label:"产品经理","min-width":"150px"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("span",{staticClass:"jl-noticeTitle"},[t._v(t._s(e.row.productManagerName))])]}}])}),t._v(" "),a("el-table-column",{attrs:{label:"状态","min-width":"150px"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("span",[t._v(t._s(t._f("filterStatus")(e.row.admissionStatus)))])]}}])}),t._v(" "),a("el-table-column",{attrs:{label:"编辑时间","min-width":"150px"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("span",{staticClass:"jl-noticeTitle"},[t._v(t._s(t._f("dateFormat")(e.row.createrTime)))])]}}])}),t._v(" "),a("el-table-column",{attrs:{label:"操作","min-width":"180"},scopedSlots:t._u([{key:"default",fn:function(e){return[3==e.row.admissionStatus?a("el-button",{attrs:{type:"primary",size:"mini"},on:{click:function(a){t.upTicket(e.row.id)}}},[t._v("上架")]):t._e(),t._v(" "),4==e.row.admissionStatus?a("el-button",{attrs:{type:"primary",size:"mini"},on:{click:function(a){t.offTicket(e.row.id)}}},[t._v("下架")]):t._e(),t._v(" "),a("el-button",{attrs:{type:"primary",size:"mini"},on:{click:function(a){t.stockDetail(e.row.id)}}},[t._v("查看库存")])]}}])})],1),t._v(" "),a("div",{staticClass:"clearfix"},[a("el-pagination",{staticClass:"fright pageMargin",attrs:{"current-page":t.currentPage,"page-size":t.pageSizeAll,total:t.tableDataTotal},on:{"current-change":t.handleCurrentChange,"update:currentPage":function(e){t.currentPage=e}}})],1)],1)]),t._v(" "),t.consume.flag?a("jdy-alert",{staticClass:"alertCityList showtfcity refund",staticStyle:{width:"1000px"},attrs:{title:"查看消耗记录"},on:{closeAlert:t.closeAlert}},[a("div",{staticClass:"produceWrap"},[a("el-form",{ref:"consume",staticStyle:{"margin-top":"10px"},attrs:{model:t.consume}},[a("el-row",[a("el-col",{attrs:{span:20}},[a("el-form-item",[a("el-date-picker",{attrs:{type:"daterange",placeholder:"选择票生产日期范围"},on:{change:t.dateRangeChange},model:{value:t.usefulDate,callback:function(e){t.usefulDate=e},expression:"usefulDate"}})],1),t._v(" "),a("el-button",{attrs:{type:"primary",size:"small"},on:{click:function(e){t.searchProduce()}}},[t._v("查看生产记录")])],1)],1)],1),t._v(" "),a("el-table",{staticClass:"all produceList",attrs:{data:t.produceData,border:"","show-summary":""}},[a("el-table-column",{attrs:{label:"门票名称","min-width":"250px"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("div",{staticStyle:{"text-align":"left",padding:"10px 0 10px 30px"}},[a("span",[t._v("【"+t._s(e.row.ticketProductCode)+"】"+t._s(e.row.ticketProductName))])])]}}])}),t._v(" "),a("el-table-column",{attrs:{label:"产品经理","min-width":"100px"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("span",{staticClass:"jl-noticeTitle"},[t._v(t._s(e.row.productManagerName))])]}}])}),t._v(" "),a("el-table-column",{attrs:{label:"数量",prop:"produceNum","min-width":"100px",sortable:""},scopedSlots:t._u([{key:"default",fn:function(e){return[a("span",{staticClass:"jl-noticeTitle"},[t._v(t._s(e.row.produceNum))])]}}])}),t._v(" "),a("el-table-column",{attrs:{label:"状态","min-width":"100px"},scopedSlots:t._u([{key:"default",fn:function(e){return[0==e.row.pStatus?a("span",{staticClass:"jl-noticeTitle"},[t._v("已上架")]):t._e(),t._v(" "),1==e.row.pStatus?a("span",{staticClass:"jl-noticeTitle"},[t._v("已下架")]):t._e()]}}])}),t._v(" "),a("el-table-column",{attrs:{label:"生产日期","min-width":"150px"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("span",{staticClass:"jl-noticeTitle"},[t._v(t._s(t._f("dateFormat")(e.row.createrTime)))])]}}])})],1),t._v(" "),a("div",{staticClass:"clearfix"},[a("el-pagination",{staticClass:"fright pageMargin",attrs:{"current-page":t.produceCurrentPage,"page-size":t.producePageSizeAll,total:t.stockTableDataTotal},on:{"current-change":t.produceHandleCurrentChange,"update:currentPage":function(e){t.produceCurrentPage=e}}})],1)],1)]):t._e(),t._v(" "),t.stock.flag?a("jdy-alert",{staticClass:"alertCityList showtfcity refund",staticStyle:{width:"1000px"},attrs:{title:"查看库存记录"},on:{closeAlert:t.closeAlert}},[a("div",{staticClass:"produceWrap"},[a("el-table",{staticStyle:{width:"100%"},attrs:{data:t.stockTableData,border:""}},[a("el-table-column",{attrs:{label:"票价名称","min-width":"120px"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("span",[t._v(t._s(e.row.apName))])]}}])}),t._v(" "),a("el-table-column",{attrs:{label:"票价类型","min-width":"80px"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v("\n            "+t._s(0==e.row.apType?"单票":"套票")+"     \n          ")]}}])}),t._v(" "),a("el-table-column",{attrs:{label:"库存数量"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("span",[t._v(t._s(-1==e.row.apStock?"无限制":e.row.apStock))])]}}])}),t._v(" "),a("el-table-column",{attrs:{label:"适用时间","min-width":"200px"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v("\n            "+t._s(e.row.lifeStartDate)+"~"+t._s(e.row.lifeEndDate)+"\n          ")]}}])}),t._v(" "),a("el-table-column",{attrs:{label:"操作时间","min-width":"200px"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v("\n            "+t._s(t._f("dateFormat")(e.row.updateTime,"time"))+"\n          ")]}}])})],1),t._v(" "),a("div",{staticClass:"clearfix"},[a("el-pagination",{staticClass:"fright pageMargin",attrs:{"current-page":t.stockcurrentPage,"page-size":t.stockpageSizeAll,total:t.stockTableDataTotal},on:{"current-change":t.stockCurrentChange,"update:currentPage":function(e){t.stockcurrentPage=e}}})],1)],1)]):t._e()],1)},staticRenderFns:[]}},1424:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"jdy-content jdy-transfer fleft"},[a("div",{staticClass:"jdy-content-inner"},[a("inner-header",{attrs:{activename:t.headerData.name,savebtn:t.headerData.btnFlag,savebtnTwo:t.headerData.btnFlagTwo,title:t.headerData.title,titleTwo:t.headerData.titleTwo},on:{savedata:t.saveContract,savedataTwo:t.declaration}}),t._v(" "),a("el-form",{ref:"lineForm",attrs:{model:t.lineForm,"label-width":"100px"}},[a("el-row",[a("div",{staticClass:"priceTitle"},[t._v("选择合同模板：")]),t._v(" "),a("div",{staticClass:"alertBody"},[a("el-radio-group",{model:{value:t.tempId,callback:function(e){t.tempId=e},expression:"tempId"}},t._l(t.tempIdGroup,function(e){return a("el-radio",{key:e.id,attrs:{label:e.id}},[t._v(t._s(e.templateTitle))])}))],1)])],1)],1)])},staticRenderFns:[]}},1431:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("el-row",{staticClass:"jdy-content-inner-trip pt10 eltabs"},[a("el-tabs",{on:{"tab-click":t.handleClick},model:{value:t.activeNameInner,callback:function(e){t.activeNameInner=e},expression:"activeNameInner"}},[a("el-tab-pane",{attrs:{label:"基本信息",name:"ticketDeclarationInformation"}}),t._v(" "),t.btnInTabFlag?a("el-tab-pane",{attrs:{label:"出厂价信息",name:"ticketDeclarationPrice"}}):t._e()],1),t._v(" "),a("el-button",{staticClass:"eltabbtn btnInTab",on:{click:t.goback}},[t._v("返回")]),t._v(" "),a("el-button",{directives:[{name:"show",rawName:"v-show",value:t.saveBtnInner,expression:"saveBtnInner"}],staticClass:"eltabbtnsave btnInTab",attrs:{type:"primary"},on:{click:t.savedata}},[t._v(t._s(t.title))]),t._v(" "),a("el-button",{directives:[{name:"show",rawName:"v-show",value:t.saveBtnInnerTwo,expression:"saveBtnInnerTwo"}],staticClass:"eltabbtnsaveTwo btnInTab",attrs:{type:"primary"},on:{click:t.savedataTwo}},[t._v(t._s(t.titleTwo))])],1)},staticRenderFns:[]}},1448:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"jdy-content jdy-transfer fleft jl-information"},[a("div",{staticClass:"jdy-content-inner"},[a("inner-header",{attrs:{activename:t.headerData.name,savebtn:t.headerData.btnFlag,title:t.headerData.title},on:{savedata:function(e){t.onSubmit("lineForm")}}}),t._v(" "),a("div",{staticClass:"jdy-table p10"},[a("el-table",{staticStyle:{width:"100%"},attrs:{data:t.tableData,border:""}},[a("el-table-column",{attrs:{label:"票价名称","min-width":"150px"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("span",[t._v(t._s(e.row.apName))])]}}])}),t._v(" "),a("el-table-column",{attrs:{label:"票价类型","min-width":"350px"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v("\n            "+t._s(0==e.row.apType?"单票":"套票")+"     \n          ")]}}])}),t._v(" "),a("el-table-column",{attrs:{label:"成本价","min-width":"150px"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v("\n            "+t._s(t._f("moneyTwoPoints")(e.row.workdayCostPrice))+"\n          ")]}}])}),t._v(" "),a("el-table-column",{attrs:{label:"出厂价","min-width":"150px"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v("\n            "+t._s(t._f("moneyTwoPoints")(e.row.workdayFactoryPrice))+"\n          ")]}}])}),t._v(" "),a("el-table-column",{attrs:{label:"销售价","min-width":"150px"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("span",[t._v(t._s(t._f("moneyTwoPoints")(e.row.workdaySalePrice)))])]}}])}),t._v(" "),a("el-table-column",{attrs:{label:"库存数量"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("span",[t._v(t._s(-1==e.row.apStock?"无限制":e.row.apStock))])]}}])}),t._v(" "),a("el-table-column",{attrs:{label:"适用时间","min-width":"200px"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v("\n            "+t._s(e.row.lifeStartDate)+"~"+t._s(e.row.lifeEndDate)+"\n          ")]}}])}),t._v(" "),a("el-table-column",{attrs:{label:"操作时间","min-width":"200px"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v("\n            "+t._s(t._f("dateFormat")(e.row.updateTime,"time"))+"\n          ")]}}])}),t._v(" "),a("el-table-column",{attrs:{label:"操作","min-width":"150"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-button",{attrs:{type:"primary",size:"mini"},on:{click:function(a){t.editPrice(e.row.id)}}},[t._v("编辑")])]}}])})],1),t._v(" "),a("div",{staticClass:"clearfix"},[a("el-pagination",{staticClass:"fright pageMargin",attrs:{"current-page":t.currentPage,"page-size":t.pageSizeAll,total:t.tableDataTotal},on:{"current-change":t.handleCurrentChange,"update:currentPage":function(e){t.currentPage=e}}})],1)],1)],1),t._v(" "),t.alertflag?a("jdy-alert",{staticClass:"alertCityList showtfcity refund",staticStyle:{width:"800px",height:"700px"},attrs:{title:"添加票价"},on:{closeAlert:t.closeAlert}},[a("div",{staticClass:"produceWrap"},[a("el-form",{ref:"priceInfo",staticStyle:{"margin-top":"10px"},attrs:{model:t.priceInfo,"label-width":"100px"}},[a("el-row",[a("el-col",{attrs:{span:24}},[a("el-form-item",{attrs:{label:"票价名称：",prop:"ticketProductCode"}},[a("el-input",{attrs:{disabled:t.readOnly},model:{value:t.priceInfo.apName,callback:function(e){t.$set(t.priceInfo,"apName",e)},expression:"priceInfo.apName"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"票价类型：",prop:"ticketProductType",placeholder:"请选择门票类型"}},[a("el-select",{staticStyle:{width:"100%"},attrs:{disabled:t.readOnly,placeholder:"请选择门票类型"},model:{value:t.priceInfo.apType,callback:function(e){t.$set(t.priceInfo,"apType",e)},expression:"priceInfo.apType"}},t._l(t.ticketList,function(t){return a("el-option",{key:t.id,attrs:{label:t.tName,value:t.id}})}))],1),t._v(" "),a("el-form-item",{staticClass:"priceInfo",attrs:{label:"价格信息：",prop:"ticketProductCode"}},[a("span",[t._v("票价时段：")]),t._v(" "),a("el-checkbox",{attrs:{disabled:t.readOnly},model:{value:t.showNormalDay,callback:function(e){t.showNormalDay=e},expression:"showNormalDay"}},[t._v("平日")]),t._v(" "),a("el-checkbox",{attrs:{disabled:t.readOnly},model:{value:t.showWeekend,callback:function(e){t.showWeekend=e},expression:"showWeekend"}},[t._v("周末")]),t._v(" "),a("el-checkbox",{attrs:{disabled:t.readOnly},model:{value:t.showHolidays,callback:function(e){t.showHolidays=e},expression:"showHolidays"}},[t._v("节假日")]),t._v(" "),t.showNormalDay?a("div",[a("span",{staticClass:"priceTitle"},[t._v("平日")]),t._v(" "),a("span",{staticClass:"priceText"},[t._v("预算成本")]),t._v(" "),a("el-input",{attrs:{disabled:t.readOnly},model:{value:t.priceInfo.workdayCostPrice,callback:function(e){t.$set(t.priceInfo,"workdayCostPrice",e)},expression:"priceInfo.workdayCostPrice"}}),t._v("元\n                    "),a("span",{staticClass:"priceText"},[t._v("出厂价")]),t._v(" "),a("el-input",{attrs:{disabled:t.readOnly},model:{value:t.priceInfo.workdayFactoryPrice,callback:function(e){t.$set(t.priceInfo,"workdayFactoryPrice",e)},expression:"priceInfo.workdayFactoryPrice"}}),t._v("元\n                    "),a("span",{staticClass:"priceText redstar"},[t._v("销售价")]),t._v(" "),a("el-input-number",{attrs:{controls:!1,min:0,max:99999999},model:{value:t.priceInfo.workdaySalePrice,callback:function(e){t.$set(t.priceInfo,"workdaySalePrice",e)},expression:"priceInfo.workdaySalePrice"}}),t._v("元                        \n                  ")],1):t._e(),t._v(" "),t.showWeekend?a("div",[a("span",{staticClass:"priceTitle"},[t._v("周末")]),t._v(" "),a("span",{staticClass:"priceText"},[t._v("预算成本")]),t._v(" "),a("el-input",{attrs:{disabled:t.readOnly},model:{value:t.priceInfo.weekendCostPrice,callback:function(e){t.$set(t.priceInfo,"weekendCostPrice",e)},expression:"priceInfo.weekendCostPrice"}}),t._v("元\n                    "),a("span",{staticClass:"priceText"},[t._v("出厂价")]),t._v(" "),a("el-input",{attrs:{disabled:t.readOnly},model:{value:t.priceInfo.weekendFactoryPrice,callback:function(e){t.$set(t.priceInfo,"weekendFactoryPrice",e)},expression:"priceInfo.weekendFactoryPrice"}}),t._v("元\n                    "),a("span",{staticClass:"priceText redstar"},[t._v("销售价")]),t._v(" "),a("el-input-number",{attrs:{controls:!1,min:0,max:99999999},model:{value:t.priceInfo.weekendSalePrice,callback:function(e){t.$set(t.priceInfo,"weekendSalePrice",e)},expression:"priceInfo.weekendSalePrice"}}),t._v("元                        \n                  ")],1):t._e(),t._v(" "),t.showHolidays?a("div",[a("span",{staticClass:"priceTitle"},[t._v("节假日")]),t._v(" "),a("span",{staticClass:"priceText"},[t._v("预算成本")]),t._v(" "),a("el-input",{attrs:{disabled:t.readOnly},model:{value:t.priceInfo.festivalCostPrice,callback:function(e){t.$set(t.priceInfo,"festivalCostPrice",e)},expression:"priceInfo.festivalCostPrice"}}),t._v("元\n                    "),a("span",{staticClass:"priceText"},[t._v("出厂价")]),t._v(" "),a("el-input",{attrs:{disabled:t.readOnly},model:{value:t.priceInfo.festivalFactoryPrice,callback:function(e){t.$set(t.priceInfo,"festivalFactoryPrice",e)},expression:"priceInfo.festivalFactoryPrice"}}),t._v("元\n                    "),a("span",{staticClass:"priceText redstar"},[t._v("销售价")]),t._v(" "),a("el-input-number",{attrs:{controls:!1,min:0,max:99999999},model:{value:t.priceInfo.festivalSalePrice,callback:function(e){t.$set(t.priceInfo,"festivalSalePrice",e)},expression:"priceInfo.festivalSalePrice"}}),t._v("元                      \n                  ")],1):t._e()],1),t._v(" "),a("el-form-item",{staticClass:"redstar",attrs:{label:"有效日期："}},[a("el-date-picker",{attrs:{type:"daterange",placeholder:"选择票有效日期范围"},on:{change:t.dateRangeChange},model:{value:t.usefulDate,callback:function(e){t.usefulDate=e},expression:"usefulDate"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"价格说明：",prop:"ticketProductCode"}},[a("el-input",{attrs:{type:"textarea",rows:3,autosize:!1,maxlength:120},model:{value:t.priceInfo.remark,callback:function(e){t.$set(t.priceInfo,"remark",e)},expression:"priceInfo.remark"}})],1)],1)],1)],1)],1),t._v(" "),a("div",{staticClass:"alertfoot1 clearfix"},[a("el-button",{staticClass:"fright mt10 mr10",attrs:{type:"primary",disabled:t.btnFlag},on:{click:function(e){t.savePrice("priceInfo")}}},[t._v("保存")]),t._v(" "),a("el-button",{staticClass:"fright mt10 mr10",on:{click:t.closeAlert}},[t._v("关闭")])],1)]):t._e()],1)},staticRenderFns:[]}},1455:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("el-row",{staticClass:"jdy-content-inner-trip pt10 eltabs"},[a("el-tabs",{on:{"tab-click":t.handleClick},model:{value:t.activeNameInner,callback:function(e){t.activeNameInner=e},expression:"activeNameInner"}},[a("el-tab-pane",{attrs:{label:"门票信息",name:"ticketPolicyTicketInfo"}}),t._v(" "),a("el-tab-pane",{attrs:{label:"销售价格信息",name:"ticketPolicyPriceInfo"}}),t._v(" "),a("el-tab-pane",{attrs:{label:"电子合同",name:"ticketPolicyContract"}})],1),t._v(" "),a("el-button",{staticClass:"eltabbtn btnInTab",on:{click:t.goback}},[t._v("返回")]),t._v(" "),a("el-button",{directives:[{name:"show",rawName:"v-show",value:t.saveBtnInner,expression:"saveBtnInner"}],staticClass:"eltabbtnsave btnInTab",attrs:{type:"primary"},on:{click:t.savedata}},[t._v(t._s(t.title))])],1)},staticRenderFns:[]}},1462:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"jdy-content jdy-transfer fleft"},[a("div",{staticClass:"jdy-content-inner"},[a("inner-header",{attrs:{activename:t.headerData.name,savebtn:t.headerData.btnFlag,showBtnInTab:t.headerData.showBtnInTabFlag,title:t.headerData.title},on:{savedata:function(e){t.onSubmit("lineForm")}}}),t._v(" "),a("div",{staticClass:"h20 mt10"}),t._v(" "),a("el-form",{ref:"lineForm",attrs:{model:t.lineForm,rules:t.rules,"label-width":"100px"}},[a("el-row",{attrs:{gutter:20}},[a("el-col",[a("el-row",[a("el-form-item",{attrs:{prop:"picture",label:"门票图片："}},[a("el-upload",{staticClass:"upload-demo",attrs:{drag:"",multiple:!1,action:t.imgUploadPath,"before-upload":t.checkFileType,data:t.fileType,"on-success":t.uploadSuccess,"show-file-list":!1,"on-error":t.uploadError,headers:t.uploadHeader,"with-credentials":!0}},[t.lineForm.picture?a("img",{staticStyle:{width:"100%",height:"100%"},attrs:{src:t.lineForm.picture}}):a("div",[a("i",{staticClass:"el-icon-upload"}),t._v(" "),a("div",{staticClass:"el-upload__text"},[t._v("将封面拖到此处，或\n                      "),a("em",[t._v("点击上传")])])]),t._v(" "),a("div",{staticClass:"el-upload__tip",staticStyle:{"margin-left":"15px"},attrs:{slot:"tip"},slot:"tip"},[t._v("建议尺寸:最小(550*350)，一般(715*455)，大小:不超过(5M)")])])],1)],1),t._v(" "),a("el-row",[a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"门票编码：",prop:"ticketProductCode"}},[a("el-input",{attrs:{placeholder:"请填写门票编码"},model:{value:t.lineForm.ticketProductCode,callback:function(e){t.$set(t.lineForm,"ticketProductCode",e)},expression:"lineForm.ticketProductCode"}})],1)],1),t._v(" "),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"门票名称：",prop:"ticketProductName"}},[a("el-input",{attrs:{placeholder:"门票名称"},model:{value:t.lineForm.ticketProductName,callback:function(e){t.$set(t.lineForm,"ticketProductName",e)},expression:"lineForm.ticketProductName"}})],1)],1),t._v(" "),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"门票类型：",prop:"ticketProductType",placeholder:"请选择门票类型"}},[a("el-select",{staticStyle:{width:"100%"},attrs:{clearable:"",placeholder:"请选择门票类型"},model:{value:t.lineForm.ticketProductType,callback:function(e){t.$set(t.lineForm,"ticketProductType",e)},expression:"lineForm.ticketProductType"}},t._l(t.ticketList,function(t){return a("el-option",{key:t.id,attrs:{label:t.tName,value:t.id}})}))],1)],1),t._v(" "),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"产品经理：",prop:"productManager"}},[a("el-select",{staticClass:"all",attrs:{filterable:!0,"remote-method":t.searchContacts,clearable:"",remote:""},model:{value:t.lineForm.productManager,callback:function(e){t.$set(t.lineForm,"productManager",t._n(e))},expression:"lineForm.productManager"}},t._l(t.peopleList,function(t){return a("el-option",{key:t.puserId,attrs:{label:t.uRealName,value:t.userId}})}))],1)],1)],1)],1)],1),t._v(" "),a("el-row",{attrs:{gutter:20}},[a("el-form-item",{attrs:{label:"入园须知："}},[a("jdy-editor",{attrs:{content:t.lineForm.admissions,attr:"admissions"},on:{input:t.editorUpdate}})],1)],1),t._v(" "),a("el-row",{attrs:{gutter:20}},[a("el-form-item",{attrs:{label:"费用包含："}},[a("jdy-editor",{attrs:{content:t.lineForm.costInclude,attr:"costInclude"},on:{input:t.editorUpdate}})],1)],1),t._v(" "),a("el-row",{attrs:{gutter:20}},[a("el-form-item",{attrs:{label:"预定规则："}},[a("jdy-editor",{attrs:{content:t.lineForm.reservationRule,attr:"reservationRule"},on:{input:t.editorUpdate}})],1)],1),t._v(" "),a("el-row",{attrs:{gutter:20}},[a("el-form-item",{attrs:{label:"退票规则："}},[a("jdy-editor",{attrs:{content:t.lineForm.refundRules,attr:"refundRules"},on:{input:t.editorUpdate}})],1)],1),t._v(" "),a("el-row",{attrs:{gutter:20}},[a("el-form-item",{attrs:{label:"补充说明："}},[a("jdy-editor",{attrs:{content:t.lineForm.explanation,attr:"explanation"},on:{input:t.editorUpdate}})],1)],1),t._v(" "),a("el-row",{attrs:{gutter:20}},[a("el-form-item",{attrs:{label:"景点介绍："}},[a("jdy-editor",{attrs:{content:t.lineForm.attractions,attr:"attractions"},on:{input:t.editorUpdate}})],1)],1)],1)],1)])},staticRenderFns:[]}},1487:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"jdy-content jdy-transfer jl-information fleft"},[a("div",{staticClass:"jdy-content-inner"},[a("inner-header",{attrs:{activename:t.headerData.name,savebtn:t.headerData.btnFlag,showBtnInTab:t.headerData.showBtnInTabFlag,title:t.headerData.title}}),t._v(" "),a("el-button",{staticClass:"mb10",attrs:{type:"primary",icon:"plus"},on:{click:t.dropoff}},[t._v("添加票价")]),t._v(" "),a("el-table",{staticStyle:{width:"100%"},attrs:{data:t.tableData,border:""}},[a("el-table-column",{attrs:{label:"票价名称","min-width":"150px"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("span",{staticClass:"jl-noticeTitle"},[t._v(t._s(e.row.apName))])]}}])}),t._v(" "),a("el-table-column",{attrs:{label:"票价类型","min-width":"150px"},scopedSlots:t._u([{key:"default",fn:function(e){return[0==e.row.apType?a("span",{staticClass:"jl-noticeTitle"},[t._v("单票")]):t._e(),t._v(" "),1==e.row.apType?a("span",{staticClass:"jl-noticeTitle"},[t._v("套票")]):t._e()]}}])}),t._v(" "),a("el-table-column",{attrs:{label:"成本价","min-width":"150px"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("span",{staticClass:"jl-noticeTitle"},[t._v(t._s(t._f("moneyTwoPoints")(e.row.workdayCostPrice)))])]}}])}),t._v(" "),a("el-table-column",{attrs:{label:"出厂价","min-width":"150px"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("span",{staticClass:"jl-noticeTitle"},[t._v(t._s(t._f("moneyTwoPoints")(e.row.workdayFactoryPrice)))])]}}])}),t._v(" "),a("el-table-column",{attrs:{label:"库存数量","min-width":"150px"},scopedSlots:t._u([{key:"default",fn:function(e){return[-1!=e.row.apStock?a("span",{staticClass:"jl-noticeTitle"},[t._v(t._s(e.row.apStock))]):t._e(),t._v(" "),-1==e.row.apStock?a("span",{staticClass:"jl-noticeTitle"},[t._v("不限")]):t._e()]}}])}),t._v(" "),a("el-table-column",{attrs:{label:"适用时间","min-width":"250px"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("span",{staticClass:"jl-noticeTitle"},[t._v(t._s(e.row.lifeStartDate)+"~"+t._s(e.row.lifeEndDate))])]}}])}),t._v(" "),a("el-table-column",{attrs:{label:"操作时间","min-width":"150px"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("span",{staticClass:"jl-noticeTitle"},[t._v(t._s(t._f("dateFormat")(e.row.updateTime,"time")))])]}}])}),t._v(" "),a("el-table-column",{attrs:{label:"操作",width:"200"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-button",{attrs:{type:"primary",size:"mini"},on:{click:function(a){t.editPrice(e.row.id)}}},[t._v("编辑")]),t._v(" "),a("el-button",{staticClass:"red",attrs:{type:"default",size:"mini"},on:{click:function(a){t.deleteTicket(e.row.id)}}},[t._v("删除")])]}}])})],1),t._v(" "),a("div",{staticClass:"clearfix"},[a("el-pagination",{staticClass:"fright pageMargin",attrs:{"current-page":t.currentPage,"page-size":t.pageSizeAll,total:t.tableDataTotal},on:{"current-change":t.handleCurrentChange,"update:currentPage":function(e){t.currentPage=e}}})],1),t._v(" "),t.refundFlag?a("jdy-alert",{staticClass:"alertCityList showtfcity refund",staticStyle:{width:"800px",height:"700px"},attrs:{title:"添加票价"},on:{closeAlert:t.closeAlert}},[a("div",{staticClass:"produceWrap"},[a("el-form",{ref:"produceForm",staticStyle:{"margin-top":"10px"},attrs:{model:t.produceForm,rules:t.rules,"label-width":"100px"}},[a("el-row",[a("el-col",{attrs:{span:24}},[a("el-form-item",{attrs:{label:"票价名称：",prop:"apName"}},[a("el-input",{attrs:{maxlength:50,placeholder:"请填写票价名称"},model:{value:t.produceForm.apName,callback:function(e){t.$set(t.produceForm,"apName",e)},expression:"produceForm.apName"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"票价类型：",prop:"apType",placeholder:"请选择门票类型"}},[a("el-select",{staticStyle:{width:"100%"},attrs:{clearable:"",placeholder:"请选择门票类型"},model:{value:t.produceForm.apType,callback:function(e){t.$set(t.produceForm,"apType",e)},expression:"produceForm.apType"}},t._l(t.ticketList,function(t){return a("el-option",{key:t.id,attrs:{label:t.tName,value:t.id}})}))],1),t._v(" "),a("el-form-item",{staticClass:"priceInfo",attrs:{label:"价格信息："}},[a("span",[t._v("票价时段：")]),t._v(" "),a("el-checkbox",{model:{value:t.showNormalDay,callback:function(e){t.showNormalDay=e},expression:"showNormalDay"}},[t._v("平日")]),t._v(" "),a("el-checkbox",{model:{value:t.showWeekend,callback:function(e){t.showWeekend=e},expression:"showWeekend"}},[t._v("周末")]),t._v(" "),a("el-checkbox",{model:{value:t.showHolidays,callback:function(e){t.showHolidays=e},expression:"showHolidays"}},[t._v("节假日")]),t._v(" "),t.showNormalDay?a("div",[a("span",{staticClass:"priceTitle"},[t._v("平日")]),t._v(" "),a("span",{staticClass:"priceText redstar"},[t._v("预算成本")]),a("el-input-number",{attrs:{controls:!1,min:0,max:99999999},model:{value:t.produceForm.workdayCostPrice,callback:function(e){t.$set(t.produceForm,"workdayCostPrice",e)},expression:"produceForm.workdayCostPrice"}}),t._v("元\n                        "),a("span",{staticClass:"priceText redstar"},[t._v("出厂价")]),a("el-input-number",{attrs:{controls:!1,min:0,max:99999999},model:{value:t.produceForm.workdayFactoryPrice,callback:function(e){t.$set(t.produceForm,"workdayFactoryPrice",e)},expression:"produceForm.workdayFactoryPrice"}}),t._v("元\n                      ")],1):t._e(),t._v(" "),t.showWeekend?a("div",[a("span",{staticClass:"priceTitle"},[t._v("周末")]),t._v(" "),a("span",{staticClass:"priceText"},[t._v("预算成本")]),a("el-input-number",{attrs:{controls:!1,min:0,max:99999999},model:{value:t.produceForm.weekendCostPrice,callback:function(e){t.$set(t.produceForm,"weekendCostPrice",e)},expression:"produceForm.weekendCostPrice"}}),t._v("元\n                        "),a("span",{staticClass:"priceText"},[t._v("出厂价")]),a("el-input-number",{attrs:{controls:!1,min:0,max:99999999},model:{value:t.produceForm.weekendFactoryPrice,callback:function(e){t.$set(t.produceForm,"weekendFactoryPrice",e)},expression:"produceForm.weekendFactoryPrice"}}),t._v("元\n                      ")],1):t._e(),t._v(" "),t.showHolidays?a("div",[a("span",{staticClass:"priceTitle"},[t._v("节假日")]),t._v(" "),a("span",{staticClass:"priceText"},[t._v("预算成本")]),a("el-input-number",{attrs:{controls:!1,min:0,max:99999999},model:{value:t.produceForm.festivalCostPrice,callback:function(e){t.$set(t.produceForm,"festivalCostPrice",e)},expression:"produceForm.festivalCostPrice"}}),t._v("元\n                        "),a("span",{staticClass:"priceText"},[t._v("出厂价")]),a("el-input-number",{attrs:{controls:!1,min:0,max:99999999},model:{value:t.produceForm.festivalFactoryPrice,callback:function(e){t.$set(t.produceForm,"festivalFactoryPrice",e)},expression:"produceForm.festivalFactoryPrice"}}),t._v("元\n                      ")],1):t._e()],1),t._v(" "),a("el-form-item",{attrs:{prop:"apStock",label:"库存量："}},[a("el-input-number",{attrs:{controls:!1,min:-1,max:1e6},model:{value:t.produceForm.apStock,callback:function(e){t.$set(t.produceForm,"apStock",e)},expression:"produceForm.apStock"}}),a("span",{staticClass:"stockText"},[t._v("-1代表无限制")])],1),t._v(" "),a("el-form-item",{attrs:{label:"有效日期："}},[a("el-date-picker",{attrs:{type:"daterange",placeholder:"选择票有效日期范围"},on:{change:t.dateRangeChange},model:{value:t.usefulDate,callback:function(e){t.usefulDate=e},expression:"usefulDate"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"价格说明：",prop:"ticketProductCode"}},[a("el-input",{attrs:{type:"textarea",rows:3,autosize:!1,maxlength:120},model:{value:t.produceForm.remark,callback:function(e){t.$set(t.produceForm,"remark",e)},expression:"produceForm.remark"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"供应商：",prop:"ticketProductCode"}},[a("el-input",{attrs:{maxlength:30,placeholder:"请填写供应商"},model:{value:t.produceForm.supplier,callback:function(e){t.$set(t.produceForm,"supplier",e)},expression:"produceForm.supplier"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"联系电话：",prop:"ticketProductCode"}},[a("el-input",{attrs:{placeholder:"请填写联系电话"},model:{value:t.produceForm.supplierTel,callback:function(e){t.$set(t.produceForm,"supplierTel",e)},expression:"produceForm.supplierTel"}})],1)],1)],1)],1)],1),t._v(" "),a("div",{staticClass:"alertfoot1 clearfix"},[a("el-button",{staticClass:"fright mt10 mr10",attrs:{type:"primary",disabled:t.btnFlag},on:{click:function(e){t.savePrice("produceForm")}}},[t._v("保存")]),t._v(" "),a("el-button",{staticClass:"fright mt10 mr10",on:{click:t.closeAlert}},[t._v("关闭")])],1)]):t._e()],1)])},staticRenderFns:[]}},1489:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"jdy-content jdy-transfer fleft"},[a("div",{staticClass:"jdy-content-inner"},[a("inner-header",{attrs:{activename:t.headerData.name,savebtn:t.headerData.btnFlag,title:t.headerData.title},on:{savedata:function(e){t.onSubmit("lineForm")}}}),t._v(" "),a("div",{staticClass:"h20 mt10"}),t._v(" "),a("el-form",{ref:"lineForm",attrs:{model:t.lineForm,rules:t.rules,"label-width":"100px"}},[a("el-row",{attrs:{gutter:20}},[a("el-col",[a("el-row",[a("el-form-item",{attrs:{prop:"picture",label:"门票图片："}},[a("el-upload",{staticClass:"upload-demo",attrs:{disabled:!0,drag:"",multiple:!1,action:t.imgUploadPath,"before-upload":t.checkFileType,data:t.fileType,"on-success":t.uploadSuccess,"show-file-list":!1,"on-error":t.uploadError,headers:t.uploadHeader,"with-credentials":!0}},[t.lineForm.picture?a("img",{staticStyle:{width:"100%",height:"100%"},attrs:{src:t.lineForm.picture}}):a("div",[a("i",{staticClass:"el-icon-upload"}),t._v(" "),a("div",{staticClass:"el-upload__text"},[t._v("将封面拖到此处，或\n                      "),a("em",[t._v("点击上传")])])]),t._v(" "),a("div",{staticClass:"el-upload__tip",staticStyle:{"margin-left":"15px"},attrs:{slot:"tip"},slot:"tip"},[t._v("建议尺寸:最小(550*350)，一般(715*455)，大小:不超过(5M)")])])],1)],1),t._v(" "),a("el-row",[a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"门票编码：",prop:"ticketProductCode"}},[a("el-input",{attrs:{placeholder:"请填写门票编码",disabled:t.readOnly},model:{value:t.lineForm.ticketProductCode,callback:function(e){t.$set(t.lineForm,"ticketProductCode",e)},expression:"lineForm.ticketProductCode"}})],1)],1),t._v(" "),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"门票名称：",prop:"ticketProductName"}},[a("el-input",{attrs:{placeholder:"门票名称",disabled:t.readOnly},model:{value:t.lineForm.ticketProductName,callback:function(e){t.$set(t.lineForm,"ticketProductName",e)},expression:"lineForm.ticketProductName"}})],1)],1),t._v(" "),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"门票类型：",prop:"ticketProductType",placeholder:"请选择门票类型"}},[a("el-select",{staticStyle:{width:"100%"},attrs:{disabled:t.readOnly,clearable:"",placeholder:"请选择门票类型"},model:{value:t.lineForm.ticketProductType,callback:function(e){t.$set(t.lineForm,"ticketProductType",e)},expression:"lineForm.ticketProductType"}},t._l(t.ticketList,function(t){return a("el-option",{key:t.id,attrs:{label:t.tName,value:t.id}})}))],1)],1),t._v(" "),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"产品经理：",prop:"productManager"}},[a("el-select",{staticClass:"all",attrs:{disabled:t.readOnly,filterable:!0,"remote-method":t.searchContacts,clearable:"",remote:""},model:{value:t.lineForm.productManager,callback:function(e){t.$set(t.lineForm,"productManager",e)},expression:"lineForm.productManager"}},t._l(t.peopleList,function(t){return a("el-option",{key:t.puserId,attrs:{label:t.uRealName,value:t.userId}})}))],1)],1)],1)],1)],1),t._v(" "),a("el-row",{attrs:{gutter:20}},[a("el-form-item",{attrs:{label:"入园须知："}},[a("jdy-editor",{attrs:{readonly:t.readOnly,content:t.lineForm.admissions,attr:"admissions"},on:{input:t.editorUpdate}})],1)],1),t._v(" "),a("el-row",{attrs:{gutter:20}},[a("el-form-item",{attrs:{label:"费用包含："}},[a("jdy-editor",{attrs:{readonly:t.readOnly,content:t.lineForm.costInclude,attr:"costInclude"},on:{input:t.editorUpdate}})],1)],1),t._v(" "),a("el-row",{attrs:{gutter:20}},[a("el-form-item",{attrs:{label:"预定规则："}},[a("jdy-editor",{attrs:{readonly:t.readOnly,content:t.lineForm.reservationRule,attr:"reservationRule"},on:{input:t.editorUpdate}})],1)],1),t._v(" "),a("el-row",{attrs:{gutter:20}},[a("el-form-item",{attrs:{label:"退票规则："}},[a("jdy-editor",{attrs:{readonly:t.readOnly,content:t.lineForm.refundRules,attr:"refundRules"},on:{input:t.editorUpdate}})],1)],1),t._v(" "),a("el-row",{attrs:{gutter:20}},[a("el-form-item",{attrs:{label:"补充说明："}},[a("jdy-editor",{attrs:{readonly:t.readOnly,content:t.lineForm.explanation,attr:"explanation"},on:{input:t.editorUpdate}})],1)],1),t._v(" "),a("el-row",{attrs:{gutter:20}},[a("el-form-item",{attrs:{label:"景点介绍："}},[a("jdy-editor",{attrs:{readonly:t.readOnly,content:t.lineForm.attractions,attr:"attractions"},on:{input:t.editorUpdate}})],1)],1)],1)],1)])},staticRenderFns:[]}},15:function(t,e,a){"use strict";(function(t){var e=a(57),i=a.n(e),n=a(54),r=a.n(n),s=a(9),o=a.n(s),l=a(40),c=a.n(l),u=a(55),d=a.n(u);!function(e){var a={};a.getWindowStyle=function(){var e=t(window).width(),a=t(window).height();return e<=1200&&(e=1200),a<=600&&(a=600),{width:e,height:a}},a.setStyle=function(){var e=this.getWindowStyle(),a=e.width,i=e.height,n=t("#jdyNav"),r=t("#jdyMain"),s=t(".jdy-main-scroll"),o=t(".jdy-header"),l=n.outerWidth(),c=l-4;n.height(i),r.height(i),s.height(i),r.width(a-l),o.width(a-l),o.css("left",l),t(".jdy-nav-title a").width(c)},a.setNavActive=function(){for(var e=["transfer","resources","system","finance","sale","report","buyerCenter","console","human"],a=location.href,i=0,n=e.length,r=".transfer";i<n;i++){var s=e[i];if(a.indexOf(s)>0){r="."+e[i];break}}t(".navli .current").removeClass("current"),t(r).addClass("current")},a.setAlertStyle=function(e){var a=this.getWindowStyle(),i=a.width,n=a.height,e="."+e||".jdyalert",r=t(e),s=r.outerWidth(),o=r.outerHeight(),l=(n-o)/2,c=(i-s)/2;r.css({top:l,left:c}),r.length&&t("body").append('<div class="alertbgg"></div>')},a.byOneClick=function(e){t(document).one("click",function(){e&&e()})},a.scrollToTop=function(e){var e=e||0;t(".jdy-main-scroll").scrollTop(e)},a.picHover=function(){t(".picwrap li").hover(function(){t(this).find(".picwrap-fc").show()},function(){t(this).find(".picwrap-fc").hide()})},a.selectCity2=function(){function e(){var e=t(t(".showtfcityaaa-content span.station").length>0?".showtfcityaaa-content .station.active":".showtfcityaaa-content span.active"),a=[],i=[];return e.each(function(){var e=t(this).attr("dataId");a.push(d()(e));var n=t(this).text();i.push(n)}),{id:a,name:i}}var a={};return t(".allSelect").bind("click",function(){t(this).parents(".showtfcityaaa").find(".showtfcityaaa-content span").addClass("active"),a=e()}),t(".allCancel").bind("click",function(){t(this).parents(".showtfcityaaa").find(".showtfcityaaa-content span").removeClass("active"),a=e()}),t(".showtfcityaaa-content span").bind("click",function(){t(this).toggleClass("active"),t(this).find(".station").length>0&&t(this).find(".station").toggleClass("active"),a=e()}),a=e()},a.printHtml=function(t){var e=document.createElement("div"),a=t.innerHTML;e.innerHTML=a;var i=document.getElementById("app");return i.style.display="none",document.body.appendChild(e),window.print(),document.body.removeChild(e),i.style.display="block",!1},a.deepCopy=function(t){var e,a=t.constructor===Array?[]:{};if("object"===(void 0===t?"undefined":c()(t))){if(window.JSON)e=o()(t),a=JSON.parse(e);else for(var i in t)a[i]="object"===c()(t[i])?arguments.callee(t[i]):t[i];return a}},a.moneyTwoPoints=function(e){var a="0.00";if(null==e||void 0===e)a="0.00";else{var i=t.trim(e.toString());if(""==i)a="0.00";else if(-1==i.indexOf("."))a=i+".00";else{var n=i.split("."),r=n[1];1==r.length?a=i+"0":2==r.length?a=i:(n[1]=r.substring(0,2),a=n.join("."))}}return a},e.jdyFn=a}(window),Array.prototype.max=function(){for(var t=this[0],e=this.length,a=1;a<e;a++)this[a]>t&&(t=this[a]);return t},Date.prototype.format=function(t){var e={"M+":this.getMonth()+1,"d+":this.getDate(),"h+":this.getHours(),"m+":this.getMinutes(),"s+":this.getSeconds(),"q+":Math.floor((this.getMonth()+3)/3),"S+":this.getMilliseconds()};/(y+)/i.test(t)&&(t=t.replace(RegExp.$1,(this.getFullYear()+"").substr(4-RegExp.$1.length)));for(var a in e)new RegExp("("+a+")").test(t)&&(t=t.replace(RegExp.$1,1==RegExp.$1.length?e[a]:("00"+e[a]).substr((""+e[a]).length)));return t},Array.prototype.unique=function(t){var e=[];if(e=r()(new i.a(this)),!0===t||!1===t)for(var a=0;a<e.length;a++)for(var n=0;n<e.length;n++){var s=null,o=1==t&&e[a]<e[n]||0==t&&e[a]>e[n];o&&(s=e[n],e[n]=e[a],e[a]=s)}return e}}).call(e,a(2))},1503:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"jl-information jl-onlinebill"},[a("div",{staticClass:"jdy-content jdy-transfer fleft jl-ad"},[a("div",{staticClass:"jdy-content-inner-trip"},[a("div",{staticClass:"jdy-tab"},[a("a",{class:{active:null==t.jdytabActive},attrs:{href:"javascript:;",title:""},on:{click:function(e){t.jdytab(null)}}},[t._v("全部\n          "),a("span")]),t._v(" "),a("a",{class:{active:0==t.jdytabActive},attrs:{href:"javascript:;",title:""},on:{click:function(e){t.jdytab(0)}}},[t._v("未提交\n          "),a("span")]),t._v(" "),a("a",{class:{active:1==t.jdytabActive},attrs:{href:"javascript:;",title:""},on:{click:function(e){t.jdytab(1)}}},[t._v("已提交\n          "),a("span")]),t._v(" "),a("a",{class:{active:4==t.jdytabActive},attrs:{href:"javascript:;",title:""},on:{click:function(e){t.jdytab(4)}}},[t._v("销售中\n          "),a("span")]),t._v(" "),a("el-button",{staticClass:"fr mt10 mr10 btnInTab",attrs:{type:"default"},on:{click:t.refreshBtn}},[t._v("\n          刷新\n        ")])],1),t._v(" "),a("div",{staticClass:"jdy-searchPart"},[a("el-form",{ref:"ruleForm",attrs:{model:t.ruleForm,inline:!0,"label-width":"100px"}},[a("el-row",{staticStyle:{width:"100%"}},[a("el-form-item",[a("el-button",{attrs:{type:"primary",icon:"plus"},on:{click:t.addTicket}},[t._v("创建门票")])],1),t._v(" "),a("el-form-item",[a("el-select",{staticStyle:{width:"100%"},attrs:{clearable:"",placeholder:"请选择门票类型"},model:{value:t.ruleForm.admissionType,callback:function(e){t.$set(t.ruleForm,"admissionType",e)},expression:"ruleForm.admissionType"}},t._l(t.ticketList,function(t){return a("el-option",{key:t.id,attrs:{label:t.tName,value:t.id}})}))],1),t._v(" "),a("el-form-item",{attrs:{label:"","label-width":"100px"}},[a("el-input",{attrs:{placeholder:"请输入产品名称、产品编号"},model:{value:t.ruleForm.searchString,callback:function(e){t.$set(t.ruleForm,"searchString","string"==typeof e?e.trim():e)},expression:"ruleForm.searchString"}})],1),t._v(" "),a("el-button",{staticClass:"btnInTab",attrs:{type:"primary"},on:{click:t.firstSearch}},[t._v("搜索")])],1)],1)],1)]),t._v(" "),a("div",{staticClass:"jdy-table p10"},[a("el-table",{staticStyle:{width:"100%"},attrs:{data:t.tableData,border:""}},[a("el-table-column",{attrs:{label:"序号",type:"index"}}),t._v(" "),a("el-table-column",{attrs:{label:"门票编号","min-width":"150px"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("span",{staticClass:"jl-noticeTitle"},[t._v(t._s(e.row.ticketProductCode))])]}}])}),t._v(" "),a("el-table-column",{attrs:{label:"门票名称","min-width":"350px"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("div",{staticStyle:{"text-align":"left",padding:"10px 0 10px 30px"}},[a("span",[t._v(t._s(e.row.ticketProductName))])])]}}])}),t._v(" "),a("el-table-column",{attrs:{label:"门票类型","min-width":"150px"},scopedSlots:t._u([{key:"default",fn:function(e){return[1==e.row.ticketProductType?a("span",{staticClass:"jl-noticeTitle"},[t._v("成人票")]):t._e(),t._v(" "),0==e.row.ticketProductType?a("span",{staticClass:"jl-noticeTitle"},[t._v("儿童票")]):t._e()]}}])}),t._v(" "),a("el-table-column",{attrs:{label:"产品经理","min-width":"150px"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("span",{staticClass:"jl-noticeTitle"},[t._v(t._s(e.row.productManagerName))])]}}])}),t._v(" "),a("el-table-column",{attrs:{label:"状态","min-width":"150px"},scopedSlots:t._u([{key:"default",fn:function(e){return[4==e.row.admissionStatus?a("span",{staticClass:"jl-noticeTitle"},[t._v("销售中")]):t._e(),t._v(" "),1==e.row.admissionStatus?a("span",{staticClass:"jl-noticeTitle"},[t._v("已提交")]):t._e(),t._v(" "),0==e.row.admissionStatus?a("span",{staticClass:"jl-noticeTitle"},[t._v("未提交")]):t._e(),t._v(" "),2==e.row.admissionStatus?a("span",{staticClass:"jl-noticeTitle"},[t._v("已完成")]):t._e(),t._v(" "),3==e.row.admissionStatus?a("span",{staticClass:"jl-noticeTitle"},[t._v("已入库")]):t._e()]}}])}),t._v(" "),a("el-table-column",{attrs:{label:"编辑时间","min-width":"150px"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("span",{staticClass:"jl-noticeTitle"},[t._v(t._s(t._f("dateFormat")(e.row.createrTime,"time")))])]}}])}),t._v(" "),a("el-table-column",{attrs:{label:"操作",width:"200"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-button",{attrs:{type:"primary",disabled:e.row.admissionStatus>=1,size:"mini"},on:{click:function(a){t.declaration(e.row.id)}}},[t._v("提交")]),t._v(" "),a("el-button",{attrs:{type:"primary",size:"mini"},on:{click:function(a){t.editTicket(e.row.id)}}},[t._v("编辑票信息")]),t._v(" "),a("el-button",{staticClass:"red",attrs:{type:"default",size:"mini"},on:{click:function(a){t.deleteTicket(e.row.id)}}},[t._v("删除")])]}}])})],1),t._v(" "),a("div",{staticClass:"clearfix"},[a("el-pagination",{staticClass:"fright pageMargin",attrs:{"current-page":t.currentPage,"page-size":t.pageSizeAll,total:t.tableDataTotal},on:{"current-change":t.handleCurrentChange,"update:currentPage":function(e){t.currentPage=e}}})],1)],1)])])},staticRenderFns:[]}},1513:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"jdy-wrap",attrs:{id:"app"}},[a("jdy-nav"),t._v(" "),a("div",{directives:[{name:"loading",rawName:"v-loading.fullscreen.lock",value:t.fullscreenLoading,expression:"fullscreenLoading",modifiers:{fullscreen:!0,lock:!0}}],staticClass:"jdy-main fleft",attrs:{id:"jdyMain"}},[a("div",{staticClass:"jdy-main-scroll"},[a("jdy-header"),t._v(" "),a("transition",[a("router-view")],1)],1)])],1)},staticRenderFns:[]}},1514:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement;t._self._c;return t._m(0)},staticRenderFns:[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"jl-information jl-onlinebill"},[a("div",{staticClass:"jdy-content jdy-transfer fleft jl-ad gridmain"},[a("div",{staticClass:"ticketLeft"},[t._v("\n          left\n      ")]),t._v(" "),a("div",{staticClass:"ticketRight"},[t._v("\n          right\n      ")])])])}]}},1517:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"jdy-content jdy-transfer fleft"},[a("div",{staticClass:"jdy-content-inner"},[a("inner-header",{attrs:{activename:t.headerData.name,savebtn:t.headerData.btnFlag,title:t.headerData.title},on:{savedata:function(e){t.onSubmit("lineForm")}}}),t._v(" "),a("el-form",{ref:"lineForm",attrs:{model:t.lineForm,rules:t.rules,"label-width":"100px"}},[a("el-row",[a("div",{staticClass:"priceTitle"},[t._v("供应商信息：")]),t._v(" "),a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:"供应商："}},[a("el-input",{attrs:{placeholder:" 请填写供应商名称"},model:{value:t.lineForm.supplier,callback:function(e){t.$set(t.lineForm,"supplier",e)},expression:"lineForm.supplier"}})],1)],1),t._v(" "),a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:"联系电话："}},[a("el-input",{attrs:{placeholder:"请填写供应商联系电话"},model:{value:t.lineForm.supplierTel,callback:function(e){t.$set(t.lineForm,"supplierTel",e)},expression:"lineForm.supplierTel"}})],1)],1)],1),t._v(" "),a("div",{staticClass:"priceTitle"},[t._v("价格信息：")]),t._v(" "),a("el-row",[a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:"预算成本："}},[a("el-input",{attrs:{placeholder:" 请填写供应商名称"},model:{value:t.lineForm.costPrice,callback:function(e){t.$set(t.lineForm,"costPrice",e)},expression:"lineForm.costPrice"}})],1)],1),t._v(" "),a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:"出厂价："}},[a("el-input",{attrs:{placeholder:"请填写供应商联系电话"},model:{value:t.lineForm.factoryPrice,callback:function(e){t.$set(t.lineForm,"factoryPrice",e)},expression:"lineForm.factoryPrice"}})],1)],1),t._v(" "),a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:"有效日期："}},[a("el-date-picker",{attrs:{type:"daterange",placeholder:"选择票有效日期范围"},on:{change:t.dateRangeChange},model:{value:t.usefulDate,callback:function(e){t.usefulDate=e},expression:"usefulDate"}})],1)],1),t._v(" "),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"价格说明："}},[a("el-input",{attrs:{type:"textarea",autosize:""},model:{value:t.lineForm.remark,callback:function(e){t.$set(t.lineForm,"remark",e)},expression:"lineForm.remark"}})],1)],1)],1)],1)],1)])},staticRenderFns:[]}},16:function(t,e){},164:function(t,e,a){function i(t){a(106)}var n=a(0)(a(92),a(109),i,null,null);t.exports=n.exports},165:function(t,e,a){function i(t){a(1121)}var n=a(0)(a(645),a(1455),i,null,null);t.exports=n.exports},17:function(t,e){},174:function(t,e,a){"use strict";function i(){}function n(t,e){var a=t;e=e.replace(/\[(\w+)\]/g,".$1"),e=e.replace(/^\./,"");for(var i=e.split("."),n=0,r=i.length;n<r-1;++n){var s=i[n];if(!(s in a))throw new Error("please transfer a valid prop path to form item!");a=a[s]}return{o:a,k:i[n],v:a[i[n]]}}Object.defineProperty(e,"__esModule",{value:!0});var r=a(173),s=a(137);e.default={name:"ElFormItem",componentName:"ElFormItem",mixins:[s.a],props:{label:String,labelWidth:String,prop:String,required:Boolean,rules:[Object,Array],error:String,validateStatus:String,showMessage:{type:Boolean,default:!0}},watch:{error:function(t){this.validateMessage=t,this.validateState=t?"error":""},validateStatus:function(t){this.validateState=t}},computed:{labelStyle:function(){var t={};if("top"===this.form.labelPosition)return t;var e=this.labelWidth||this.form.labelWidth;return e&&(t.width=e),t},contentStyle:function(){var t={},e=this.label;if("top"===this.form.labelPosition||this.form.inline)return t;if(!e&&!this.labelWidth&&this.isNested)return t;var a=this.labelWidth||this.form.labelWidth;return a&&(t.marginLeft=a),t},form:function(){for(var t=this.$parent,e=t.$options.componentName;"ElForm"!==e;)"ElFormItem"===e&&(this.isNested=!0),t=t.$parent,e=t.$options.componentName;return t},fieldValue:{cache:!1,get:function(){var t=this.form.model;if(t&&this.prop){var e=this.prop;return-1!==e.indexOf(":")&&(e=e.replace(/:/,".")),n(t,e).v}}},isRequired:function(){var t=this.getRules(),e=!1;return t&&t.length&&t.every(function(t){return!t.required||(e=!0,!1)}),e}},data:function(){return{validateState:"",validateMessage:"",validateDisabled:!1,validator:{},isNested:!1}},methods:{validate:function(t){var e=this,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:i;this.validateDisabled=!1;var n=this.getFilteredRule(t);if(!(n&&0!==n.length||this._props.hasOwnProperty("required")))return a(),!0;this.validateState="validating";var s={};s[this.prop]=n;var o=new r.default(s),l={};l[this.prop]=this.fieldValue,o.validate(l,{firstFields:!0},function(t,i){e.validateState=t?"error":"success",e.validateMessage=t?t[0].message:"",a(e.validateMessage)})},resetField:function(){this.validateState="",this.validateMessage="";var t=this.form.model,e=this.fieldValue,a=this.prop;-1!==a.indexOf(":")&&(a=a.replace(/:/,"."));var i=n(t,a);Array.isArray(e)?(this.validateDisabled=!0,i.o[i.k]=[].concat(this.initialValue)):(this.validateDisabled=!0,i.o[i.k]=this.initialValue)},getRules:function(){var t=this.form.rules,e=this.rules,a=this._props.hasOwnProperty("required")?{required:!!this.required}:[];return t=t?t[this.prop]:[],[].concat(e||t||[]).concat(a)},getFilteredRule:function(t){return this.getRules().filter(function(e){return!e.trigger||-1!==e.trigger.indexOf(t)})},onFieldBlur:function(){this.validate("blur")},onFieldChange:function(){if(this.validateDisabled)return void(this.validateDisabled=!1);this.validate("change")}},mounted:function(){if(this.prop){this.dispatch("ElForm","el.form.addField",[this]);var t=this.fieldValue;Array.isArray(t)&&(t=[].concat(t)),Object.defineProperty(this,"initialValue",{value:t});(this.getRules().length||this._props.hasOwnProperty("required"))&&(this.$on("el.form.blur",this.onFieldBlur),this.$on("el.form.change",this.onFieldChange))}},beforeDestroy:function(){this.dispatch("ElForm","el.form.removeField",[this])}}},175:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=a(328),n=a(330),r=a(122),s=a.n(r);e.default={name:"ElInputNumber",directives:{repeatClick:{bind:function(t,e,i){var r=null,s=void 0,o=function(){return i.context[e.expression].apply()},l=function(){new Date-s<100&&o(),clearInterval(r),r=null};a.i(n.a)(t,"mousedown",function(){s=new Date,a.i(n.b)(document,"mouseup",l),clearInterval(r),r=setInterval(o,100)})}}},components:{ElInput:i.a},props:{step:{type:Number,default:1},max:{type:Number,default:1/0},min:{type:Number,default:-1/0},value:{default:0},disabled:Boolean,size:String,controls:{type:Boolean,default:!0},debounce:{type:Number,default:300}},data:function(){return{currentValue:0}},watch:{value:{immediate:!0,handler:function(t){var e=Number(t);isNaN(e)||(e>=this.max&&(e=this.max),e<=this.min&&(e=this.min),this.currentValue=e,this.$emit("input",e))}}},computed:{minDisabled:function(){return this._decrease(this.value,this.step)<this.min},maxDisabled:function(){return this._increase(this.value,this.step)>this.max},precision:function(){var t=this.value,e=this.step,a=this.getPrecision;return Math.max(a(t),a(e))}},methods:{toPrecision:function(t,e){return void 0===e&&(e=this.precision),parseFloat(parseFloat(Number(t).toFixed(e)))},getPrecision:function(t){var e=t.toString(),a=e.indexOf("."),i=0;return-1!==a&&(i=e.length-a-1),i},_increase:function(t,e){if("number"!=typeof t)return this.currentValue;var a=Math.pow(10,this.precision);return this.toPrecision((a*t+a*e)/a)},_decrease:function(t,e){if("number"!=typeof t)return this.currentValue;var a=Math.pow(10,this.precision);return this.toPrecision((a*t-a*e)/a)},increase:function(){if(!this.disabled&&!this.maxDisabled){var t=this.value||0,e=this._increase(t,this.step);e>this.max||this.setCurrentValue(e)}},decrease:function(){if(!this.disabled&&!this.minDisabled){var t=this.value||0,e=this._decrease(t,this.step);e<this.min||this.setCurrentValue(e)}},handleBlur:function(){this.$refs.input.setCurrentValue(this.currentValue)},setCurrentValue:function(t){var e=this.currentValue;if(t>=this.max&&(t=this.max),t<=this.min&&(t=this.min),e===t)return void this.$refs.input.setCurrentValue(this.currentValue);this.$emit("change",t,e),this.$emit("input",t),this.currentValue=t},handleInput:function(t){if(""!==t){var e=Number(t);isNaN(e)?this.$refs.input.setCurrentValue(this.currentValue):this.setCurrentValue(e)}}},created:function(){var t=this;this.debounceHandleInput=s()(this.debounce,function(e){t.handleInput(e)})}}},176:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=a(137),n=a(329),r=a(331);e.default={name:"ElInput",componentName:"ElInput",mixins:[i.a],data:function(){return{currentValue:this.value,textareaCalcStyle:{}}},props:{value:[String,Number],placeholder:String,size:String,resize:String,readonly:Boolean,autofocus:Boolean,icon:String,disabled:Boolean,type:{type:String,default:"text"},name:String,autosize:{type:[Boolean,Object],default:!1},rows:{type:Number,default:2},autoComplete:{type:String,default:"off"},form:String,maxlength:Number,minlength:Number,max:{},min:{},step:{},validateEvent:{type:Boolean,default:!0},onIconClick:Function},computed:{validating:function(){return"validating"===this.$parent.validateState},textareaStyle:function(){return a.i(r.a)({},this.textareaCalcStyle,{resize:this.resize})}},watch:{value:function(t,e){this.setCurrentValue(t)}},methods:{handleBlur:function(t){this.$emit("blur",t),this.validateEvent&&this.dispatch("ElFormItem","el.form.blur",[this.currentValue])},inputSelect:function(){this.$refs.input.select()},resizeTextarea:function(){if(!this.$isServer){var t=this.autosize;if("textarea"===this.type){if(!t)return void(this.textareaCalcStyle={minHeight:a.i(n.a)(this.$refs.textarea).minHeight});var e=t.minRows,i=t.maxRows;this.textareaCalcStyle=a.i(n.a)(this.$refs.textarea,e,i)}}},handleFocus:function(t){this.$emit("focus",t)},handleInput:function(t){var e=t.target.value;this.$emit("input",e),this.setCurrentValue(e),this.$emit("change",e)},handleIconClick:function(t){this.onIconClick&&this.onIconClick(t),this.$emit("click",t)},setCurrentValue:function(t){var e=this;t!==this.currentValue&&(this.$nextTick(function(t){e.resizeTextarea()}),this.currentValue=t,this.validateEvent&&this.dispatch("ElFormItem","el.form.change",[t]))}},created:function(){this.$on("inputSelect",this.inputSelect)},mounted:function(){this.resizeTextarea()}}},18:function(t,e){},19:function(t,e,a){"use strict";(function(t){var e=a(6);e.default.filter("moneyTwoPoints",function(e,a){var i="0.00";if(null==e||void 0===e)return i="";var n=t.trim(e.toString());if(""==n)return i="";if(-1==n.indexOf("."))i=n+".00";else{var r=n.split("."),s=r[1];1==s.length?i=n+"0":2==s.length?i=n:(r[1]=s.substring(0,2),i=r.join("."))}return 1==a?i:"￥"+i}),e.default.filter("dateFormat",function(t,e,a){function i(t){return parseInt(t)<10&&(t="0"+t),t}if(""==t||null==t||void 0===t||isNaN(t))return"--"==a?"-- --":"";var n=new Date(t),r=n.getFullYear(),s=n.getMonth()+1,o=n.getDate(),l=n.getHours(),c=n.getMinutes(),u=n.getSeconds(),d=r+"-"+i(s)+"-"+i(o)+" "+i(l)+":"+i(c)+":"+i(u),p=l+":"+i(c);return"time"==e?d:"hm"==e?p:d.substring(0,10)}),e.default.filter("dateFormatTwo",function(t,e,a){function i(t){return parseInt(t)<10&&(t="0"+t),t}if(""==t||null==t||void 0===t||isNaN(t))return"--"==a?"-- --":"";var n=new Date(t),r=n.getFullYear(),s=n.getMonth()+1,o=n.getDate(),l=n.getHours(),c=n.getMinutes(),u=n.getSeconds(),d=r+"-"+i(s)+"-"+i(o)+" "+i(l)+":"+i(c)+":"+i(u),p=l+":"+i(c);return"time"==e?d:"hm"==e?p:d}),e.default.filter("addDate",function(t,e){if(""==t||null==t||void 0===t||isNaN(t))return"";var a=new Date(t);return a=a.valueOf(),a+=24*(e-1)*60*60*1e3,a=new Date(a)}),e.default.filter("lineType",function(t){var e={0:"全部类型",10:"周边短线",11:"国内长线",20:"出境长线",21:"出境短线",30:"邮轮",50:"自由行",51:"出境海岛",52:"定制旅游",54:"团队会奖",55:"签证服务",56:"机票预订",57:"酒店预订",58:"单项委托",59:"其他服务",60:"户外拓展",61:"游学/研学",62:"自驾游",63:"全球旅拍",64:"旅游金融",65:"旅游地产",66:"亲子"};for(var a in e)if(t==a)return e[a]})}).call(e,a(2))},22:function(t,e){},226:function(t,e,a){function i(t){a(1103)}var n=a(0)(a(639),a(1431),i,null,null);t.exports=n.exports},227:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{class:["textarea"===t.type?"el-textarea":"el-input",t.size?"el-input--"+t.size:"",{"is-disabled":t.disabled,"el-input-group":t.$slots.prepend||t.$slots.append,"el-input-group--append":t.$slots.append,"el-input-group--prepend":t.$slots.prepend}]},["textarea"!==t.type?[t.$slots.prepend?a("div",{staticClass:"el-input-group__prepend"},[t._t("prepend")],2):t._e(),t._v(" "),t._t("icon",[t.icon?a("i",{staticClass:"el-input__icon",class:["el-icon-"+t.icon,t.onIconClick?"is-clickable":""],on:{click:t.handleIconClick}}):t._e()]),t._v(" "),"textarea"!==t.type?a("input",t._b({ref:"input",staticClass:"el-input__inner",attrs:{autocomplete:t.autoComplete},domProps:{value:t.currentValue},on:{input:t.handleInput,focus:t.handleFocus,blur:t.handleBlur}},"input",t.$props,!1)):t._e(),t._v(" "),t.validating?a("i",{staticClass:"el-input__icon el-icon-loading"}):t._e(),t._v(" "),t.$slots.append?a("div",{staticClass:"el-input-group__append"},[t._t("append")],2):t._e()]:a("textarea",t._b({ref:"textarea",staticClass:"el-textarea__inner",style:t.textareaStyle,domProps:{value:t.currentValue},on:{input:t.handleInput,focus:t.handleFocus,blur:t.handleBlur}},"textarea",t.$props,!1))],2)},staticRenderFns:[]}},228:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"el-form-item",class:{"is-error":"error"===t.validateState,"is-validating":"validating"===t.validateState,"is-required":t.isRequired||t.required}},[t.label||t.$slots.label?a("label",{staticClass:"el-form-item__label",style:t.labelStyle,attrs:{for:t.prop}},[t._t("label",[t._v(t._s(t.label+t.form.labelSuffix))])],2):t._e(),t._v(" "),a("div",{staticClass:"el-form-item__content",style:t.contentStyle},[t._t("default"),t._v(" "),a("transition",{attrs:{name:"el-zoom-in-top"}},["error"===t.validateState&&t.showMessage&&t.form.showMessage?a("div",{staticClass:"el-form-item__error"},[t._v(t._s(t.validateMessage))]):t._e()])],2)])},staticRenderFns:[]}},23:function(t,e){},230:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"el-input-number",class:[t.size?"el-input-number--"+t.size:"",{"is-disabled":t.disabled},{"is-without-controls":!t.controls}]},[t.controls?a("span",{directives:[{name:"repeat-click",rawName:"v-repeat-click",value:t.decrease,expression:"decrease"}],staticClass:"el-input-number__decrease",class:{"is-disabled":t.minDisabled}},[a("i",{staticClass:"el-icon-minus"})]):t._e(),t._v(" "),t.controls?a("span",{directives:[{name:"repeat-click",rawName:"v-repeat-click",value:t.increase,expression:"increase"}],staticClass:"el-input-number__increase",class:{"is-disabled":t.maxDisabled}},[a("i",{staticClass:"el-icon-plus"})]):t._e(),t._v(" "),a("el-input",{ref:"input",attrs:{value:t.currentValue,disabled:t.disabled,size:t.size,max:t.max,min:t.min},on:{blur:t.handleBlur,input:t.debounceHandleInput},nativeOn:{keydown:[function(e){return"button"in e||!t._k(e.keyCode,"up",38,e.key,"ArrowUp")?(e.preventDefault(),t.increase(e)):null},function(e){return"button"in e||!t._k(e.keyCode,"down",40,e.key,"ArrowDown")?(e.preventDefault(),t.decrease(e)):null}]}},[t.$slots.prepend?a("template",{slot:"prepend"},[t._t("prepend")],2):t._e(),t._v(" "),t.$slots.append?a("template",{slot:"append"},[t._t("append")],2):t._e()],2)],1)},staticRenderFns:[]}},28:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=a(7),n=a.n(i);e.default={data:function(){var t=this;return{isCollapse:!0,indexUrl:n.a.index_url,param:this.$route.query,titleList:[],titleConditionType:{null:function(e){return!t.param.hasOwnProperty(e)},notNull:function(e){return t.param.hasOwnProperty(e)},equal:function(e,a){if(t.param.hasOwnProperty(e))return t.param[e]==a;throw new Error("current page's url has no param with name "+e)}}}},methods:{getUrl:function(t){var e=t.meta.query,a={};if(e)for(var i=this.$route.query,n=0;n<e.length;n++){var r=e[n];if(!i[r])throw new Error("child url named "+this.$route.path+" do not  has param ：["+r+"]");a[r]=i[r]}this.$router.push({name:t.name,query:a})},getTitle:function(t){if(t.title)return t.title;if(t.titles){for(var e=0;e<t.titles.length;e++){var a=t.titles[e];if(this.isConditionsTrue(a.conditions))return a.title}return"——"}},isConditionsTrue:function(t){for(var e=0;e<t.length;e++){var a=t[e];if(!this.titleConditionType[a.type](a.param,a.value))return!1}return!0},handleCommand:function(t){"exit"==t?(sessionStorage.clear(),this.$http.get(n.a.api_prefix+"user/logout").then(function(t){location.href="/login.html#/"},function(t){})):"personal"==t&&(window.location.href="/personal.html#/")},modifyRoute:function(){var t=this;this.param=this.$route.query,this.titleList=[];var e=location.href;this.$router.options.routes.forEach(function(a){-1!=e.indexOf(a.path)&&t.titleList.push(a)})}},mounted:function(){this.modifyRoute()},watch:{$route:"modifyRoute"}}},29:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),function(t){a(11);e.default={name:"nav",props:{navArr:Array},data:function(){return{activeDataF:"",activeArry:[],activeData:"",activeDataTwo:"",isCollapse:!1,showBig:!0,showSmall:!1,showBigLogo:!0,showSmallLogo:!1,fullscreenLoading:!1,companyType:JSON.parse(sessionStorage.loginData).cType,msg:"nav",flag:!1,htmlData:[{mName:"",mEnName:"",mUrl:"",children:[{mName:"",mUrl:""}]}]}},methods:{select:function(t,e){this.activeDataTwo="",e[0]!=location.pathname+"#/"?location.href=location.origin+e[0]+e[1]:this.$router.push({name:e[1]})},handleClose:function(t,e){var a=JSON.parse(sessionStorage.loginData);if("/buyerCenter.html#/"==e[0]){var i="b2b.fingercrm.cn"==location.host?"http://sopin.fingercrm.cn/":"http://sp.test.fingercrm.cn/";window.open(i+"auth/login?source=erp&uid="+a.userId)}},handleOpen:function(t,e){var a=JSON.parse(sessionStorage.loginData);if("/buyerCenter.html#/"==e[0]){var i="b2b.fingercrm.cn"==location.host?"http://sopin.fingercrm.cn/":"http://sp.test.fingercrm.cn/";window.open(i+"auth/login?source=erp&uid="+a.userId)}},changeBtn:function(){var e=t(window).width(),a=t(window).height();e<=1200&&(e=1200),a<=600&&(a=600),a-163<500&&t(".el-menu").css({"max-height":"400px","overflow-y":"scroll","overflow-x":"hidden"}),0==this.isCollapse?(t("#jdyNav").stop().animate({width:"64px"},300,function(){this.showBigLogo=!1,this.showSmallLogo=!0}),t(".jdy-main").stop().animate({width:e-64+"px"},300),t(".jdy-header").stop().animate({width:e-64+"px",left:"64px"},300),t(".el-submenu__icon-arrow").hide(),this.showBig=!1,this.showSmall=!0,this.isCollapse=!this.isCollapse):(t("#jdyNav").stop().animate({width:"200px"},300,function(){this.showBigLogo=!0,this.showSmallLogo=!1}),t(".jdy-main").stop().animate({width:e-200+"px"},300),t(".jdy-header").stop().animate({width:e-200+"px",left:"200px"},300),t(".el-submenu__icon-arrow").hide(),this.showBig=!0,this.showSmall=!1,this.isCollapse=!this.isCollapse)},getHtml:function(){var t=this;this.$http.post(api_prefix+"/user/authorization").then(function(e){var a=e.data.body;t.htmlData=a.menus,window.menuData=a.buttonClassNames},function(t){})}},mounted:function(){this.activeData=location.pathname+"#/",this.activeDataTwo=location.hash.substr(2),this.activeDataF=this.activeDataTwo,this.activeArry=[this.activeData,this.activeDataTwo],jdyFn.setNavActive(),this.fullscreenLoading=!0,this.getHtml(),jdyFn.setStyle()}}}.call(e,a(2))},31:function(t,e){},32:function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAA8AAAAPCAYAAAA71pVKAAAAKUlEQVQokWNgGCjAyMDAwDB1zdb/MDYawCmeHeLNyESJzaOaRzUPYgAAGWQGFjo1r+kAAAAASUVORK5CYII="},33:function(t,e,a){t.exports=a.p+"static/img/logo-sp.491a13a.png"},34:function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADwAAABBCAIAAAACIlA6AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyJpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuMy1jMDExIDY2LjE0NTY2MSwgMjAxMi8wMi8wNi0xNDo1NjoyNyAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENTNiAoV2luZG93cykiIHhtcE1NOkluc3RhbmNlSUQ9InhtcC5paWQ6ODY5RUZGMTU2RTgwMTFFNzg5Qjk5RTYxQ0YwRTc5MEQiIHhtcE1NOkRvY3VtZW50SUQ9InhtcC5kaWQ6ODY5RUZGMTY2RTgwMTFFNzg5Qjk5RTYxQ0YwRTc5MEQiPiA8eG1wTU06RGVyaXZlZEZyb20gc3RSZWY6aW5zdGFuY2VJRD0ieG1wLmlpZDo4NjlFRkYxMzZFODAxMUU3ODlCOTlFNjFDRjBFNzkwRCIgc3RSZWY6ZG9jdW1lbnRJRD0ieG1wLmRpZDo4NjlFRkYxNDZFODAxMUU3ODlCOTlFNjFDRjBFNzkwRCIvPiA8L3JkZjpEZXNjcmlwdGlvbj4gPC9yZGY6UkRGPiA8L3g6eG1wbWV0YT4gPD94cGFja2V0IGVuZD0iciI/Pm/2uZkAABc4SURBVHjaXFpLsyTX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"},35:function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAA8AAAAPCAYAAAA71pVKAAAAOElEQVQokWNgGCjAyMDAwDB1zdb/pGrMDvFmZEE2hFTARI6mgdcM8zPJAcbAwDAaYCQCssKJOgAA4FsGINawyv8AAAAASUVORK5CYII="},36:function(t,e,a){var i=a(0)(a(28),a(38),null,null,null);t.exports=i.exports},37:function(t,e,a){function i(t){a(31)}var n=a(0)(a(29),a(39),i,"data-v-e8da82da",null);t.exports=n.exports},38:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"jdy-header clearfix relative"},[a("el-dropdown",{staticClass:"inlineblock absolute",staticStyle:{right:"20px",top:"23px"},on:{command:t.handleCommand}},[a("span",{staticClass:"el-dropdown-link"},[t._v("\n         "),a("span",{staticClass:"header-tx-icon inlineblock absolute",staticStyle:{right:"44px",top:"-7px"}})]),t._v(" "),a("el-dropdown-menu",{attrs:{slot:"dropdown"},slot:"dropdown"},[a("el-dropdown-item",{staticClass:"ml10 mr10",staticStyle:{"font-size":"14px",height:"30px"},attrs:{command:"personal"}},[t._v("个人中心")]),t._v(" "),a("el-dropdown-item",{staticClass:"ml10 mr10",staticStyle:{"font-size":"14px",height:"30px"},attrs:{command:"exit"}},[t._v("退出")])],1)],1),t._v(" "),a("div",{staticClass:"jdy-bread"},[a("a",{attrs:{href:t.indexUrl,title:""}},[t._v("首页")]),t._v(" "),t._l(t.titleList,function(e,i){return a("span",[a("span",{staticClass:"fgx"},[t._v("/")]),t._v(" "),i+1==t.titleList.length?a("span",{staticClass:"blue"},[t._v(t._s(t.getTitle(e.meta)))]):a("a",{attrs:{title:"",href:"javascript:;"},on:{click:function(a){t.getUrl(e)}}},[t._v(" "+t._s(t.getTitle(e.meta)))])])})],2)],1)},staticRenderFns:[]}},39:function(t,e,a){t.exports={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"jdy-nav fleft",attrs:{id:"jdyNav"}},[i("div",{staticClass:"logo"},[t.showBig?i("img",{staticStyle:{width:"100%"},attrs:{src:a(33)}}):t.showSmall?i("img",{staticStyle:{width:"100%"},attrs:{src:a(34)}}):t._e()]),t._v(" "),i("div",{staticClass:"changeBtn"},[i("a",{attrs:{href:"javascript:;"}},[t.showSmall?i("img",{attrs:{src:a(35)},on:{click:t.changeBtn}}):t._e()]),t._v(" "),i("a",{attrs:{href:"javascript:;"}},[t.showBig?i("img",{attrs:{src:a(32)},on:{click:t.changeBtn}}):t._e()])]),t._v(" "),i("el-menu",{staticClass:"el-menu-vertical-demo",attrs:{"default-active":t.activeDataF,"default-openeds":t.activeArry,router:!0,collapse:t.isCollapse,"unique-opened":"",theme:"dark"},on:{select:t.select,open:t.handleOpen,close:t.handleClose}},t._l(t.htmlData,function(e,a){return i("el-submenu",{key:a,attrs:{index:e.mUrl}},[i("template",{slot:"title"},[i("i",{class:e.mEnName}),t._v(" "),i("div",{class:e.mEnName},[i("span",{staticClass:"navicon inlineblock",staticStyle:{"padding-left":"35px","font-size":"12px"},attrs:{slot:"title"},slot:"title"},[t._v(t._s(e.mName))]),t._v(" "),1==t.showSmall?i("div",{staticClass:"navicon inlineblock smallNav",staticStyle:{"padding-left":"35px"},attrs:{slot:"title"},slot:"title"}):t._e()])]),t._v(" "),t._l(e.children,function(e,a){return i("el-menu-item-group",{key:a},[i("el-menu-item",{class:{"is-active":e.mUrl.substr(1)==t.activeDataTwo},staticStyle:{"font-size":"12px"},attrs:{index:e.mUrl.substr(1)}},[t._v(t._s(e.mName))])],1)})],2)}))],1)},staticRenderFns:[]}},4:function(t,e,a){var i=a(0)(a(50),a(52),null,null,null);t.exports=i.exports},41:function(t,e,a){function i(t){a(107)}var n=a(0)(a(94),a(110),i,null,null);t.exports=n.exports},47:function(t,e,a){var i=a(0)(a(175),a(230),null,null,null);t.exports=i.exports},491:function(t,e,a){"use strict";var i=a(6),n=a(10),r=a(1319),s=a.n(r),o=a(1318),l=a.n(o),c=a(1320),u=a.n(c),d=a(1317),p=a.n(d),f=a(1324),m=a.n(f),h=a(1326),v=a.n(h),g=a(1325),b=a.n(g),y=a(1323),_=a.n(y),w=a(1322),k=a.n(w),x=a(1316),C=a.n(x),S=a(1321),T=a.n(S);i.default.use(n.a),e.a=new n.a({routes:[{path:"/",name:"index",component:s.a,meta:{title:"门票中心"}},{path:"/ticketDeclaration/ticketDeclarationList",name:"ticketDeclarationList",component:s.a,meta:{title:"门票产品基本信息配置"}},{path:"/ticketDeclaration/ticketDeclarationList/ticketDeclarationInformation",name:"ticketDeclarationInformation",component:l.a,meta:{title:"基本信息",query:["id"]}},{path:"/ticketDeclaration/ticketDeclarationList/ticketDeclarationPrice",name:"ticketDeclarationPrice",component:u.a,meta:{title:"出厂价信息",query:["id"]}},{path:"/ticketDeclaration/ticketDeclarationList/ticketDeclarationContract",name:"ticketDeclarationContract",component:p.a,meta:{title:"电子合同",query:["id","isEdit"]}},{path:"/ticketInventory/ticketInventoryList",name:"ticketInventoryList",component:T.a,meta:{title:"库存信息"}},{path:"/ticketPolicy/ticketPolicyList",name:"ticketPolicyList",component:m.a,meta:{title:"门票销售信息配置"}},{path:"/ticketPolicy/ticketPolicyList/ticketPolicyTicketInfo",name:"ticketPolicyTicketInfo",component:v.a,meta:{title:"门票信息"}},{path:"/ticketPolicy/ticketPolicyList/ticketPolicyPriceInfo",name:"ticketPolicyPriceInfo",component:b.a,meta:{title:"销售价格信息"}},{path:"/ticketPolicy/ticketPolicyList/ticketPolicyExpandInfo",name:"ticketPolicyExpandInfo",component:_.a,meta:{title:"扩展信息"}},{path:"/ticketPolicy/ticketPolicyList/ticketPolicyContract",name:"ticketPolicyContract",component:k.a,meta:{title:"电子合同"}},{path:"/ticketPolicy/produceTicket",name:"produceTicket",component:C.a,meta:{title:"生产门票"}}],scrollBehavior:function(t,e,a){return a||{x:0,y:0}},linkActiveClass:"active"})},50:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),function(t){e.default={props:{title:String},methods:{closeAlert:function(){t(".alertbgg").remove(),this.$emit("closeAlert")}}}}.call(e,a(2))},504:function(t,e,a){var i=a(0)(a(637),a(1513),null,null,null);t.exports=i.exports},52:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"jdyalert",staticStyle:{top:"0"}},[a("div",{staticClass:"jdyalert-title"},[a("span",{staticClass:"f14 pl16"},[t._v(t._s(t.title))]),t._v(" "),a("button",{staticClass:"el-message-box__headerbtn",attrs:{type:"button","aria-label":"Close"},on:{click:t.closeAlert}},[a("i",{staticClass:"el-message-box__close el-icon-close"})])]),t._v(" "),a("div",{staticClass:"jdyalert-content"},[t._t("default"),t._v(" "),a("div",{staticClass:"tc ffhidden hiddens"},[a("button",{staticClass:"el-message-box__headerbtn",attrs:{type:"button","aria-label":"Close"},on:{click:t.closeAlert}},[a("i",{staticClass:"el-message-box__close el-icon-close"})])])],2)])},staticRenderFns:[]}},58:function(t,e,a){var i=a(0)(a(174),a(228),null,null,null);t.exports=i.exports},63:function(t,e){},637:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=a(36),n=a.n(i),r=a(37),s=a.n(r);e.default={name:"app",components:{jdyHeader:n.a,jdyNav:s.a},data:function(){return{fullscreenLoading:!1}},created:function(){}}},638:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={name:"information",data:function(){return{currentPage:1,pageSizeAll:20,tableDataTotal:0,tableData:[{tNo:"SC20180305",tName:"雪乡梦幻家园门票",tType:1,pManager:"李小鹏",tStatus:1,tTime:"2018-03-24 18:24"}],fullscreenLoading:!1,jdytabActive:null,ruleForm:{tType:"",searchName:"",pageSize:20,currPage:1},ticketList:[{id:1,tName:"成人票"},{id:2,tName:"儿童票"}]}},mounted:function(){},methods:{getTableData:function(){var t=this;this.$http.post(api_prefix+"/SchedulePlan/manageList",this.ruleForm).then(function(e){var a=e.body.body;t.tableData=a.pageInfo.list,t.tableDataOne=a.pageTotalInfo.list,t.tableDataTwo=a.totalInfo.list,t.tableDataTotal=a.pageInfo.total},function(t){})},jdytab:function(t){this.jdytabActive=t,this.getTableData()},handleCurrentChange:function(t){this.ruleForm.currPage=t,this.getTableData()},firstSearch:function(){this.getTableData()},refreshBtn:function(){var t=this;this.fullscreenLoading=!0,setTimeout(function(){t.fullscreenLoading=!1,t.$message({showClose:!0,message:"刷新成功",type:"success"}),t.getTableData()},1e3)},declaration:function(){},addTicket:function(){this.$router.push({name:"ticketDeclarationInformation"})},editTicket:function(){this.$router.push({name:"ticketDeclarationInformation"})},deleteTicket:function(t){var e=this,a=api_prefix+"/module/delete/"+t;this.currentId=t,this.$confirm("你确定要删除该内容？","友情提示",{confirmButtonText:"是",cancelButtonText:"否",type:"warning"}).then(function(){e.$http.get(a).then(function(t){0==t.data.code?(e.getTableData(),setTimeout(function(){e.$message({showClose:!0,message:"删除成功",type:"success"})},500)):e.$alert(t.data.message)},function(t){})}).catch(function(){})}}}},639:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=a(7);a.n(i);e.default={data:function(){return{saveBtnInner:this.savebtn,saveBtnInnerTwo:this.savebtnTwo,activeNameInner:this.activename,btnInTabFlag:this.showBtnInTab}},props:{activename:String,savebtn:Boolean,savebtnTwo:Boolean,title:String,titleTwo:String,showBtnInTab:Boolean},methods:{handleClick:function(t){this.$router.push({name:t.name,query:{id:this.$route.query.id}})},savedata:function(){this.$emit("savedata")},savedataTwo:function(){this.$emit("savedataTwo")},goback:function(){var t=this;this.$confirm("即将离开本页面，请确定数据是否已经保存？","温馨提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){t.$router.push({name:"ticketDeclarationList"})}).catch(function(){})}},mounted:function(){},watch:{showBtnInTab:function(t,e){this.btnInTabFlag=t}}}},640:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=a(41),n=a.n(i),r=a(58),s=a.n(r),o=a(47),l=a.n(o),c=a(226),u=a.n(c);e.default={name:"line",data:function(){return{headerData:{name:"ticketDeclarationContract",btnFlag:!0,btnFlagTwo:!0,title:"保存",titleTwo:"申报"},lineForm:{},usefulDate:"",btnFlag:!1,contractFlag:!1,tempId:null,tempIdGroup:[],searchParam:{companyId:JSON.parse(sessionStorage.loginData).uCompanyId,currPage:1,pageSize:20}}},methods:{dateRangeChange:function(t){if(t){t.split(" - ")}},declaration:function(){var t=this,e=this.$route.query.id;this.$http.get(api_prefix+"/admission/base/declare/"+e).then(function(e){0==e.data.code?t.$message({showClose:!0,message:"申报成功",type:"success"}):t.$alert(e.data.message)},function(t){})},getContract:function(){var t=this;this.$http.post(api_prefix+"front/order/m/electronicContract/searchList",this.searchParam).then(function(e){if(0==e.data.code){var a=e.data.body;t.tempIdGroup=a.list}else t.$alert(e.data.message)},function(t){})},editContract:function(){var t=this;this.$http.post(api_prefix+"/admission/contract-info",this.$route.query.id).then(function(e){if(0==e.data.code){var a=e.data.body;t.tempId=a.tId}else t.$alert(e.data.message)},function(t){})},saveContract:function(){var t=this,e={currPage:1,pageSize:20,pid:this.$route.query.id,tid:this.tempId};this.$http.post(api_prefix+"/admission/bind-contract",e).then(function(e){0==e.data.code?(t.$message.success("保存成功！"),t.closeContract()):t.$alert(e.data.message)},function(t){})},onSubmit:function(t,e){var a=this;this.$refs[t].validate(function(t){if(!t)return a.$message.error("保存失败"),!1;a.btnFlag=!0,a.$http.post(api_prefix+"/product/save",a.lineForm).then(function(t){0==t.body.code?(a.btnFlag=!1,a.$message.success("保存成功"),a.lineForm.id=t.body.id[0],e&&e(t.body.id[0])):(a.btnFlag=!1,a.defalutErrorMessage(t.body.message))},function(t){a.defalutErrorMessage()})})},defalutErrorMessage:function(t){t?this.$alert(t,"温馨提示",{type:"error"}):this.$alert("网络出错了~","温馨提示",{type:"error"})}},components:{ElInputNumber:l.a,ElFormItem:s.a,jdyEditor:n.a,innerHeader:u.a},mounted:function(){this.$route.query.id&&(this.getContract(),this.editContract())}}},641:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=a(41),n=a.n(i),r=a(58),s=a.n(r),o=a(47),l=a.n(o),c=a(226),u=a.n(c);e.default={name:"line",data:function(){return{headerData:{name:"ticketDeclarationInformation",btnFlag:!0,title:"保存",showBtnInTabFlag:!1},btnFlag:!1,fileType:{fileType:"jpg"},uploadHeader:{Authorization:sessionStorage.token},action:"/common/file/upload",lineForm:{ticketProductCode:"",ticketProductName:"",ticketProductType:"",productManager:"",reservationRule:"",refundRules:"",admissions:"",attractions:"",costInclude:"",explanation:"",picture:null,id:this.$route.query.id},peopleList:[],ticketList:[{id:1,tName:"成人票"},{id:0,tName:"儿童票"}],rules:{ticketProductCode:[{required:!0,message:"请输入产品编号",trigger:"blur"},{min:1,max:20,message:"长度在 1 到 20 个字",trigger:"blur"}],ticketProductName:[{required:!0,message:"请输入产品名称",trigger:"blur"},{min:1,max:20,message:"长度在 1 到 20 个字",trigger:"blur"}],productManager:[{required:!0,type:"number",message:"请输入产品经理",trigger:"blur"}],ticketProductType:[{required:!0,message:"请选择类型",trigger:"change",type:"number"}],picture:[{required:!0,message:"请上传门票图片",trigger:"change"}]}}},computed:{imgUploadPath:function(){return api_prefix+this.action}},methods:{queryUserList:function(t){var e=this;this.$http.post(api_prefix+"/user/list",{uCompanyId:t,uRealName:this.lineForm.productManager,uStype:0}).then(function(t){0==t.body.code?e.peopleList=t.body.body.list:e.defalutErrorMessage(t.body.message)},function(t){e.defalutErrorMessage()})},searchContacts:function(t){this.contactsName=t,this.queryUserList(JSON.parse(sessionStorage.loginData).uCompanyId)},checkFileType:function(t){var e=t.type.startsWith("image/");e||this.$message.error("请选择图片上传");var a=t.size<5242880;return a||this.$message.error("文件太大了~请控制在5M以内"),e&&a},getBaseList:function(){var t=this;this.$http.get(api_prefix+"/admission/base/getAdmissionBase/"+this.$route.query.id).then(function(e){if(0==e.data.code){var a=e.data.body;t.lineForm=a}else t.$alert(e.data.message)},function(t){})},onSubmit:function(t,e){var a=this;this.$refs[t].validate(function(t){if(!t)return a.$message.error("保存失败"),!1;a.btnFlag=!0,a.$http.post(api_prefix+"/admission/base/saveAdmissionBase",a.lineForm).then(function(t){0==t.body.code?(a.btnFlag=!1,a.$message.success("保存成功"),e&&e(t.body.id[0]),a.$route.query.id=t.body.id[0],a.$nextTick(function(){this.headerData.showBtnInTabFlag=!0})):(a.btnFlag=!1,a.defalutErrorMessage(t.body.message))},function(t){a.defalutErrorMessage()})})},uploadSuccess:function(t){0==t.code?this.lineForm.picture=t.body.key:this.defalutErrorMessage(t.message)},uploadError:function(){this.defalutErrorMessage()},editorUpdate:function(t,e){this.lineForm[e]=t},defaultProcut:function(){},defalutErrorMessage:function(t){t?this.$alert(t,"温馨提示",{type:"error"}):this.$alert("网络出错了~","温馨提示",{type:"error"})}},components:{ElInputNumber:l.a,ElFormItem:s.a,jdyEditor:n.a,innerHeader:u.a},mounted:function(){this.queryUserList(JSON.parse(sessionStorage.loginData).uCompanyId),this.$route.query.id&&this.getBaseList()},created:function(){this.$route.query.id&&(this.headerData.showBtnInTabFlag=!0)}}},642:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=a(4),n=a.n(i);e.default={components:{jdyAlert:n.a},name:"information",data:function(){return{currentPage:1,pageSizeAll:20,tableDataTotal:0,tableData:[{ticketProductCode:"SC20180305",ticketProductName:"雪乡梦幻家园门票",ticketProductType:1,productManagerName:"李小鹏",admissionStatus:1,createrTime:"2018-03-24 18:24"}],fullscreenLoading:!1,jdytabActive:null,ruleForm:{admissionType:"",searchString:"",pageSize:20,pageIndex:1},ticketList:[{id:1,tName:"成人票"},{id:0,tName:"儿童票"}]}},mounted:function(){this.getTableData()},methods:{getTableData:function(){var t=this;this.$http.post(api_prefix+"/admission/base/list",this.ruleForm).then(function(e){var a=e.body.body;t.tableData=a.list,t.tableDataTotal=a.total},function(t){})},jdytab:function(t){this.jdytabActive=t,this.ruleForm.status=null==t?null:[t],this.getTableData()},handleCurrentChange:function(t){this.ruleForm.pageIndex=t,this.getTableData()},firstSearch:function(){this.getTableData()},refreshBtn:function(){var t=this;this.fullscreenLoading=!0,setTimeout(function(){t.fullscreenLoading=!1,t.$message({showClose:!0,message:"刷新成功",type:"success"}),t.getTableData()},1e3)},declaration:function(t){var e=this;this.$http.get(api_prefix+"/admission/base/commit/"+t).then(function(t){0==t.data.code?(e.$message({showClose:!0,message:"提交成功",type:"success"}),e.getTableData()):e.$alert(t.data.message,"温馨提示")},function(t){})},addTicket:function(t){this.$router.push({name:"ticketDeclarationInformation"})},editTicket:function(t){this.$router.push({name:"ticketDeclarationInformation",query:{id:t}})},deleteTicket:function(t){var e=this,a=api_prefix+"/admission/base/deleteAdmissionBase/"+t;this.$confirm("你确定要删除该门票？","温馨提示",{confirmButtonText:"是",cancelButtonText:"否",type:"warning"}).then(function(){e.$http.get(a).then(function(t){0==t.data.code?(e.getTableData(),setTimeout(function(){e.$message({showClose:!0,message:"删除成功",type:"success"})},500)):e.$alert(t.data.message)},function(t){})}).catch(function(){})}}}},643:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),function(t){var i=a(41),n=a.n(i),r=a(4),s=a.n(r),o=a(58),l=a.n(o),c=a(47),u=a.n(c),d=a(226),p=a.n(d);e.default={name:"line",data:function(){return{headerData:{name:"ticketDeclarationPrice",btnFlag:!1,title:"保存",showBtnInTabFlag:!1},currentPage:1,pageSizeAll:20,tableDataTotal:0,ruleForm:{pid:"",pageSize:20,currPage:1},tableData:[],produceForm:{},ticketList:[{id:0,tName:"单票"},{id:1,tName:"套票"}],showNormalDay:!0,showWeekend:!1,showHolidays:!1,refundFlag:!1,usefulDate:"",btnFlag:!1,rules:{apName:[{required:!0,message:"请输入票价名称",trigger:"blur"},{min:1,max:30,message:"长度在 1 到 30 个字",trigger:"blur"}],apStock:[{required:!0,type:"number",message:"请输入库存数量",trigger:"blur"}]}}},methods:{getTableData:function(){var t=this;this.ruleForm.pid=this.$route.query.id,this.$http.post(api_prefix+"/admission/price-list",this.ruleForm).then(function(e){0==e.data.code?(t.tableData=e.data.body.resultList,t.tableDataTotal=e.data.body.totalNum):t.$alert(e.data.message)},function(t){})},dateRangeChange:function(t){if(t){var e=t.split(" - ");this.produceForm.lifeStartDate=e[0],this.produceForm.lifeEndDate=e[1]}},editPrice:function(t){var e=this;this.refundFlag=!0,this.$nextTick(function(){jdyFn.setAlertStyle("showtfcity")}),this.$http.post(api_prefix+"/admission/price-info",t).then(function(t){if(0==t.data.code){var a=t.data.body;e.produceForm=t.data.body,e.usefulDate=[a.lifeStartDate,a.lifeEndDate];var i=a.suitRegion.split("");1==i[0]?e.showNormalDay=!0:e.showNormalDay=!1,1==i[1]?e.showWeekend=!0:e.showWeekend=!1,1==i[2]?e.showHolidays=!0:e.showHolidays=!1}else e.$alert(t.data.message)},function(t){})},dropoff:function(t){this.refundFlag=!0,this.produceForm.apStock=-1,this.$nextTick(function(){jdyFn.setAlertStyle("showtfcity")})},savePrice:function(t){var e=this;this.$refs[t].validate(function(t){if(!t)return e.$message.error("保存失败"),!1;e.btnFlag=!0;var a=e.produceForm.supplierTel;if(!{ExpuContactsPhone:/(?:(\(\+?86\))(0[0-9]{2,3}\-?)?([2-9][0-9]{6,7})+(\-[0-9]{1,4})?)|(?:(86-?)?(0[0-9]{2,3}\-?)?([2-9][0-9]{6,7})+(\-[0-9]{1,4})?)|^(1[3|5|6|8]\d{9})?$/}.ExpuContactsPhone.test(a))return e.regexpsAlert("请填写正确的联系方式！"),void(e.btnFlag=!1);if(""==e.produceForm.workdayCostPrice)e.$message.error("请输入平日预算成本价！");else if(""==e.produceForm.workdayFactoryPrice)e.$message.error("请输入平日出厂价！");else{var i=new Array;1==e.showNormalDay?i[0]=1:i[0]=0,1==e.showWeekend?i[1]=1:i[1]=0,1==e.showHolidays?(e.showHolidays=!0,i[2]=1):(e.showHolidays=!1,i[2]=0),e.produceForm.suitRegion=i.join(""),e.produceForm.pid=e.$route.query.id,e.$http.post(api_prefix+"/admission/save-price",e.produceForm).then(function(t){0==t.body.code?(e.btnFlag=!1,setTimeout(function(){e.closeAlert(),e.getTableData(),e.$message.success("保存成功")},500),e.produceForm.id=t.body.id[0]):(e.btnFlag=!1,e.defalutErrorMessage(t.body.message))},function(t){e.defalutErrorMessage()})}})},closeAlert:function(){this.refundFlag=!1,this.produceForm={},this.showWeekend=!1,this.showHolidays=!1,this.usefulDate="",t(".alertbgg").remove()},regexpsAlert:function(t){this.$message({showClose:!0,message:t,type:"error"})},deleteTicket:function(t){var e=this,a=api_prefix+"/admission/delete-price";this.$confirm("你确定要删除该票价？","温馨提示",{confirmButtonText:"是",cancelButtonText:"否",type:"warning"}).then(function(){e.$http.post(a,t).then(function(t){0==t.data.code?(e.getTableData(),setTimeout(function(){e.$message({showClose:!0,message:"删除成功",type:"success"})},500)):e.$alert(t.data.message)},function(t){})}).catch(function(){})},handleCurrentChange:function(t){this.ruleForm.currPage=t,this.getTableData()},defalutErrorMessage:function(t){t?this.$alert(t,"温馨提示",{type:"error"}):this.$alert("网络出错了~","温馨提示",{type:"error"})}},components:{ElInputNumber:u.a,ElFormItem:l.a,jdyEditor:n.a,innerHeader:p.a,jdyAlert:s.a},mounted:function(){this.$route.query.id&&this.getTableData()},created:function(){this.$route.query.id&&(this.headerData.showBtnInTabFlag=!0)}}}.call(e,a(2))},644:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),function(t){var i=a(4),n=a.n(i);e.default={components:{jdyAlert:n.a},name:"information",data:function(){return{currentPage:1,produceCurrentPage:1,pageSizeAll:20,tableData:[],producePageSizeAll:20,tableDataTotal:0,refundFlag:!1,stockcurrentPage:1,stockpageSizeAll:20,stockTableDataTotal:0,stocktableParam:{currPage:1,pageSize:20,pid:this.$route.query.id},stockTableData:[],consumecurrentPage:1,consumeproduceCurrentPage:1,consumepageSizeAll:20,consumeTableDataTotal:0,consumeTableData:[],produceData:[],fullscreenLoading:!1,jdytabActive:null,usefulDate:"",admissionBaseId:"",ruleForm:{admissionType:null,status:[3,4],searchString:"",pageSize:20,pageIndex:1},consume:{flag:!1,admissionBaseId:"",searchEndDate:"",searchStartDate:""},stock:{flag:!1,admissionBaseId:"",searchEndDate:"",searchStartDate:""},ticketList:[{id:1,tName:"成人票"},{id:0,tName:"儿童票"}]}},mounted:function(){this.getTableData()},filters:{filterStatus:function(t){var e="";switch(t){case 0:e="无效";break;case 1:e="已提交";break;case 2:e="已完成";break;case 3:e="未上架";break;case 4:e="已上架";break;case-1:e="删除"}return e}},methods:{getTableData:function(){var t=this;this.$http.post(api_prefix+"admission/base/list",this.ruleForm).then(function(e){var a=e.body.body;0==e.body.code?(t.tableData=a.list,t.tableDataTotal=a.total):t.$alert(a.message)},function(t){})},consumeDeatil:function(t){this.consume.flag=!0,this.$nextTick(function(){jdyFn.setAlertStyle("showtfcity")})},stockDetail:function(t){this.stock.flag=!0,this.$nextTick(function(){jdyFn.setAlertStyle("showtfcity")}),this.stocktableParam.pid=t,this.getStockTableData()},getStockTableData:function(){var t=this;this.$http.post(api_prefix+"admission/price-list",this.stocktableParam).then(function(e){0==e.data.code?(t.stockTableData=e.data.body.resultList,t.stockTableDataTotal=e.data.body.totalNum):t.$alert(e.data.message)},function(t){})},stockCurrentChange:function(t){this.stocktableParam.currPage=t,this.getStockTableData()},getProduceData:function(t){var e=this;this.consume.admissionBaseId=t,this.$http.post(api_prefix+"/admission/produce/list",this.consume).then(function(t){var a=t.body.body;e.produceData=a,e.stockTableDataTotal=a.total},function(t){})},jdytab:function(t){this.jdytabActive=t,this.ruleForm.status=null==t?[3,4]:[t],this.getTableData()},handleCurrentChange:function(t){this.ruleForm.currPage=t,this.getTableData()},produceHandleCurrentChange:function(t){this.consume.currPage=t,this.getProduceData()},firstSearch:function(){this.getTableData()},refreshBtn:function(){var t=this;this.fullscreenLoading=!0,setTimeout(function(){t.fullscreenLoading=!1,t.$message({showClose:!0,message:"刷新成功",type:"success"}),t.getTableData()},1e3)},dropoff:function(t){this.refundFlag=!0,this.getProduceData(t),this.admissionBaseId=t,this.$nextTick(function(){jdyFn.setAlertStyle("showtfcity")})},searchProduce:function(){this.getProduceData(this.admissionBaseId)},dateRangeChange:function(t){if(t){var e=t.split(" - ");this.consume.searchStartDate=e[0],this.consume.searchEndDate=e[1]}},closeAlert:function(){this.stock.flag=!1,this.consume.flag=!1,t(".alertbgg").remove()},openStock:function(){this.stock.flag=!0,this.$nextTick(function(){jdyFn.setAlertStyle("showtfcity")})},openConsume:function(){this.consume.flag=!0,this.$nextTick(function(){jdyFn.setAlertStyle("showtfcity")})},upTicket:function(t){var e=this;this.$http.get(api_prefix+"admission/base/startSales/"+t).then(function(t){0==t.data.code?(e.$message({showClose:!0,message:"上架成功",type:"success"}),e.getTableData()):e.$alert(t.data.message)},function(t){})},offTicket:function(t){var e=this;this.$http.get(api_prefix+"admission/base/stopSales/"+t).then(function(t){0==t.data.code?(e.$message({showClose:!0,message:"下架成功",type:"success"}),e.getTableData()):e.$alert(t.data.message)},function(t){})}}}}.call(e,a(2))},645:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=a(7);a.n(i);e.default={data:function(){return{saveBtnInner:this.savebtn,activeNameInner:this.activename,testflag:!1}},props:{activename:String,savebtn:Boolean,title:{type:String,default:"保存"}},methods:{handleClick:function(t){this.$router.push({name:t.name,query:{id:this.$route.query.id}})},savedata:function(){this.$emit("savedata")},goback:function(){var t=this;this.$confirm("即将离开本页面，请确定数据是否已经保存？","温馨提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){t.$router.push({name:"ticketPolicyList"})}).catch(function(){})}}}},646:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=a(24),n=a.n(i),r=a(41),s=a.n(r),o=a(58),l=a.n(o),c=a(47),u=a.n(c),d=a(165),p=a.n(d);e.default={name:"line",data:function(){var t;return t={headerData:{name:"ticketPolicyContract",btnFlag:!0},btnFlag:!1,lineForm:{},usefulDate:""},n()(t,"btnFlag",!1),n()(t,"contractFlag",!1),n()(t,"tempId",null),n()(t,"tempIdGroup",[]),n()(t,"searchParam",{companyId:JSON.parse(sessionStorage.loginData).uCompanyId,currPage:1,pageSize:20}),t},methods:{getContract:function(){var t=this;this.$http.post(api_prefix+"front/order/m/electronicContract/searchList",this.searchParam).then(function(e){if(0==e.data.code){var a=e.data.body;t.tempIdGroup=a.list}else t.$alert(e.data.message)},function(t){})},editContract:function(){var t=this;this.$http.post(api_prefix+"/admission/contract-info",this.$route.query.id||7).then(function(e){if(0==e.data.code){var a=e.data.body;t.tempId=a.tId}else t.$alert(e.data.message)},function(t){})},saveContract:function(){var t=this,e={pid:this.$route.query.id||7,tid:this.tempId};this.$http.post(api_prefix+"/admission/bind-contract",e).then(function(e){0==e.data.code?(t.$message.success("保存成功！"),t.closeContract()):t.$alert(e.data.message)},function(t){})}},components:{ElInputNumber:u.a,ElFormItem:l.a,jdyEditor:s.a,innerHeader:p.a},mounted:function(){this.getContract(),this.editContract()}}},647:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=a(41),n=a.n(i),r=a(58),s=a.n(r),o=a(47),l=a.n(o),c=a(165),u=a.n(c);e.default={name:"line",data:function(){return{headerData:{name:"ticketPolicyExpandInfo",btnFlag:!0},lineForm:{supplier:"",supplierTel:"",costPrice:"",factoryPrice:"",lifeStartDate:"",lifeEndDate:"",remark:"",pid:1},usefulDate:"",btnFlag:!1,rules:{tNo:[{required:!0,message:"请输入产品编号",trigger:"blur"},{min:1,max:20,message:"长度在 1 到 20 个字",trigger:"blur"}],tName:[{required:!0,message:"请输入产品名称",trigger:"blur"},{min:1,max:50,message:"长度在 1 到 50 个字",trigger:"blur"}],pManager:[{required:!0,message:"请输入产品经理",trigger:"blur"}],tType:[{required:!0,message:"请选择类型",trigger:"change",type:"number"}],cover:[{required:!0,message:"请上传门票图片",trigger:"change"}]}}},methods:{getCost:function(){var t=this;this.$http.post(api_prefix+"/admission/cost-info",1).then(function(e){if(0==e.data.code){var a=e.data.body;t.lineForm=a,t.usefulDate=[a.lifeStartDate,a.lifeEndDate]}else t.$alert(e.data.message)},function(t){})},dateRangeChange:function(t){if(t){var e=t.split(" - ");this.lineForm.lifeStartDate=e[0],this.lineForm.lifeEndDate=e[1]}},onSubmit:function(t,e){var a=this;this.$refs[t].validate(function(t){if(!t)return a.$message.error("保存失败"),!1;a.btnFlag=!0,a.$http.post(api_prefix+"/admission/save-cost",a.lineForm).then(function(t){0==t.body.code?(a.btnFlag=!1,a.$message.success("保存成功"),e&&e(t.body.id[0])):(a.btnFlag=!1,a.defalutErrorMessage(t.body.message))},function(t){a.defalutErrorMessage()})})},defalutErrorMessage:function(t){t?this.$alert(t,"温馨提示",{type:"error"}):this.$alert("网络出错了~","温馨提示",{type:"error"})}},components:{ElInputNumber:l.a,ElFormItem:s.a,jdyEditor:n.a,innerHeader:u.a},mounted:function(){this.getCost()}}},648:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),function(t){var i=a(4),n=a.n(i);e.default={name:"information",data:function(){return{currentPage:1,pageSizeAll:20,tableDataTotal:0,tableData:[],fullscreenLoading:!1,jdytabActive:null,ruleForm:{admissionType:null,searchString:"",pageIndex:1,status:[1,2,3,4]},ticketList:[{id:0,tName:"儿童票"},{id:1,tName:"成人票"}],alertflag:!1,stocktableParam:{currPage:1,pageSize:20,pid:null},stockcurrentPage:1,stockpageSizeAll:20,stockTableDataTotal:0,stockTableData:[]}},mounted:function(){this.getTableData()},methods:{getTableData:function(){var t=this;this.$http.post(api_prefix+"admission/base/list",this.ruleForm).then(function(e){var a=e.body.body;0==e.body.code?(t.tableData=a.list,t.tableDataTotal=a.total):t.$alert(a.message)},function(t){})},jdytab:function(t){switch(this.jdytabActive=t,t){case null:this.ruleForm.status=[1,2,3,4];break;case 1:this.ruleForm.status=[1];break;case 2:this.ruleForm.status=[2,3];break;case 4:this.ruleForm.status=[4]}this.getTableData()},handleCurrentChange:function(t){this.ruleForm.pageIndex=t,this.getTableData()},firstSearch:function(){this.getTableData()},refreshBtn:function(){var t=this;this.fullscreenLoading=!0,setTimeout(function(){t.fullscreenLoading=!1,t.$message({showClose:!0,message:"刷新成功",type:"success"}),t.getTableData()},1e3)},declaration:function(t){var e=this;this.$http.get(api_prefix+"admission/base/confirm/"+t).then(function(t){0==t.body.code?e.$message.success("申报成功！"):e.$alert(t.body.message),e.getTableData()},function(t){})},entreStore:function(t){var e=this;this.$http.get(api_prefix+"admission/base/enterStore/"+t).then(function(t){0==t.body.code?e.$message.success("入库成功！"):e.$alert(t.body.message),e.getTableData()},function(t){})},outStore:function(t){var e=this;this.$http.get(api_prefix+"admission/base/outStore/"+t).then(function(t){0==t.body.code?e.$message.success("出库成功！"):e.$alert(t.body.message),e.getTableData()},function(t){})},getStore:function(t){this.alertflag=!0,this.$nextTick(function(){jdyFn.setAlertStyle("showtfcity")}),this.stocktableParam.pid=t,this.getStockTableData()},getStockTableData:function(){var t=this;this.$http.post(api_prefix+"admission/price-list",this.stocktableParam).then(function(e){0==e.data.code?(t.stockTableData=e.data.body.resultList,t.stockTableDataTotal=e.data.body.totalNum):t.$alert(e.data.message)},function(t){})},closeAlert:function(){this.alertflag=!1,t(".alertbgg").remove()},editTicket:function(t){this.$router.push({name:"ticketPolicyPriceInfo",query:{id:t}})},editExpand:function(){this.$router.push({name:"ticketPolicyExpandInfo",query:{id:id}})},stockCurrentChange:function(t){this.stocktableParam.currPage=t,this.getStockTableData()}},filters:{filterStatus:function(t){var e="";switch(t){case 0:e="无效";break;case 1:e="待申报";break;case 2:e="待入库";break;case 3:e="已入库";break;case 4:e="销售中";break;case-1:e="删除"}return e}},components:{jdyAlert:n.a}}}.call(e,a(2))},649:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),function(t){var i=a(4),n=a.n(i),r=a(165),s=a.n(r);e.default={name:"line",data:function(){return{headerData:{name:"ticketPolicyPriceInfo",btnFlag:!1},currentPage:1,pageSizeAll:20,tableDataTotal:0,lineForm:{id:0,market1stRebate:null,market2ndRebate:null,market3rdRebate:null,marketPrice:null,peer1stRebate:null,peer2ndRebate:null,peer3rdRebate:null,peerPrice:null,pid:0,remark:null,supporter:null,supporterTel:null,currPage:1},tableParam:{currPage:1,pageSize:20,pid:this.$route.query.id||7},btnFlag:!1,rules:{},priceInfo:{},alertflag:!1,showNormalDay:!0,showWeekend:!0,showHolidays:!0,usefulDate:"",readOnly:!0,tableData:[],ticketList:[{id:1,tName:"单票"},{id:0,tName:"套票"}]}},methods:{getTableData:function(){var t=this;this.$http.post(api_prefix+"admission/price-list",this.tableParam).then(function(e){0==e.data.code?(t.tableData=e.data.body.resultList,t.tableDataTotal=e.data.body.totalNum):t.$alert(e.data.message)},function(t){})},editPrice:function(t){var e=this;this.alertflag=!0,this.$nextTick(function(){jdyFn.setAlertStyle("showtfcity")}),this.$http.post(api_prefix+"admission/price-info",t||1).then(function(t){if(0==t.body.code){var a=t.data.body;e.priceInfo=t.data.body,e.usefulDate=[a.lifeStartDate,a.lifeEndDate];var i=a.suitRegion.split("");e.showNormalDay=1==i[0],e.showWeekend=1==i[1],e.showHolidays=1==i[2]}else e.$alert(t.data.message)},function(t){e.defalutErrorMessage()})},dateRangeChange:function(t){if(t){var e=t.split(" - ");this.priceInfo.lifeStartDate=e[0],this.priceInfo.lifeEndDate=e[1]}},savePrice:function(t){var e=this;return this.priceInfo.lifeStartDate||this.priceInfo.lifeStartDate?this.showNormalDay&&!this.priceInfo.workdaySalePrice?this.$message.info("请录入平日销售价！"):this.showWeekend&&!this.priceInfo.weekendSalePrice?this.$message.info("请录入周末销售价！"):this.showHolidays&&!this.priceInfo.festivalSalePrice?this.$message.info("请录入节假日销售价！"):void this.$refs[t].validate(function(t){if(!t)return e.$message.error("保存失败"),!1;e.$http.post(api_prefix+"admission/save-price",e.priceInfo).then(function(t){0==t.body.code?(e.$message.success("保存成功"),e.closeAlert(),e.getTableData()):e.$alert(t.data.message)},function(t){e.defalutErrorMessage()})}):this.$message.info("请选择日期区间！")},getCost:function(){var t=this;this.$http.post(api_prefix+"admission/cost-info",this.$route.query.id).then(function(e){if(0==e.data.code){var a=e.data.body;t.costPrice=a.costPrice,t.lineForm.id=a.id,t.lineForm.pid=a.pid}else t.$alert(e.data.message)},function(t){})},getPrice:function(){var t=this;this.$http.post(api_prefix+"admission/price-info",this.$route.query.id).then(function(e){0==e.data.code?e.data.body:t.$alert(e.data.message)},function(t){})},defalutErrorMessage:function(t){t?this.$alert(t,"温馨提示",{type:"error"}):this.$alert("网络出错了~","温馨提示",{type:"error"})},handleCurrentChange:function(t){this.tableParam.currPage=t,this.getTableData()},closeAlert:function(){this.alertflag=!1,t(".alertbgg").remove()}},components:{jdyAlert:n.a,innerHeader:s.a},mounted:function(){this.getTableData()}}}.call(e,a(2))},650:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=a(41),n=a.n(i),r=a(58),s=a.n(r),o=a(47),l=a.n(o),c=a(165),u=a.n(c);e.default={name:"line",data:function(){return{headerData:{name:"ticketPolicyTicketInfo",btnFlag:!1},btnFlag:!1,fileType:{fileType:"jpg"},uploadHeader:{Authorization:sessionStorage.token},action:"/common/file/upload",lineForm:{ticketProductCode:"",ticketProductName:"",ticketProductType:"",productManager:"",reservationRule:"",refundRules:"",admissions:"",attractions:"",costInclude:"",explanation:"",picture:null},peopleList:[],ticketList:[{id:1,tName:"成人票"},{id:0,tName:"儿童票"}],rules:{ticketProductCode:[{required:!0,message:"请输入产品编号",trigger:"blur"},{min:1,max:20,message:"长度在 1 到 20 个字",trigger:"blur"}],ticketProductName:[{required:!0,message:"请输入产品名称",trigger:"blur"},{min:1,max:20,message:"长度在 1 到 20 个字",trigger:"blur"}],productManager:[{required:!0,message:"请输入产品经理",trigger:"blur",type:"number"}],ticketProductType:[{required:!0,message:"请选择类型",trigger:"change",type:"number"}],picture:[{required:!0,message:"请上传门票图片",trigger:"change"}]},readOnly:!0}},computed:{imgUploadPath:function(){return api_prefix+this.action}},methods:{getTableData:function(){var t=this;this.$http.get(api_prefix+"admission/base/getAdmissionBase/"+this.$route.query.id).then(function(e){var a=e.body.body;if(0==e.body.code){var i=e.data.body;t.lineForm=i}else t.$alert(a.message)},function(t){})},queryUserList:function(t){var e=this;this.$http.post(api_prefix+"/user/list",{uCompanyId:t,uRealName:this.contactsName,uStype:0}).then(function(t){0==t.body.code?e.peopleList=t.body.body.list:e.defalutErrorMessage(t.body.message)},function(t){e.defalutErrorMessage()})},checkFileType:function(t){var e=t.type.startsWith("image/");e||this.$message.error("请选择图片上传");var a=t.size<5242880;return a||this.$message.error("文件太大了~请控制在5M以内"),e&&a},getBaseList:function(){var t=this;this.$http.post(api_prefix+"/admission/base/list",this.lineForm).then(function(e){if(0==e.data.code){var a=e.data.body;t.lineForm=a,t.usefulDate=[a.lifeStartDate,a.lifeEndDate]}else t.$alert(e.data.message)},function(t){})},onSubmit:function(t,e){var a=this;this.$refs[t].validate(function(t){if(!t)return a.$message.error("保存失败"),!1;a.btnFlag=!0,a.$http.post(api_prefix+"/admission/base/saveAdmissionBase",a.lineForm).then(function(t){0==t.body.code?(a.btnFlag=!1,a.$message.success("保存成功"),e&&e(t.body.id[0])):(a.btnFlag=!1,a.defalutErrorMessage(t.body.message))},function(t){a.defalutErrorMessage()})})},uploadSuccess:function(t){0==t.code?this.lineForm.picture=t.body.key:this.defalutErrorMessage(t.message)},uploadError:function(){this.defalutErrorMessage()},editorUpdate:function(t,e){this.lineForm[e]=t},defaultProcut:function(){},defalutErrorMessage:function(t){t?this.$alert(t,"温馨提示",{type:"error"}):this.$alert("网络出错了~","温馨提示",{type:"error"})}},components:{ElInputNumber:l.a,ElFormItem:s.a,jdyEditor:n.a,innerHeader:u.a},mounted:function(){this.getTableData(),this.queryUserList(JSON.parse(sessionStorage.loginData).uCompanyId)}}},7:function(t,e,a){var i="b2b.fingercrm.cn"==location.host?"http://sopin.fingercrm.cn/":"http://sp.test.fingercrm.cn/",n="b2b.fingercrm.cn"==location.host?"http://card.fingercrm.cn/":"http://tuyi.dev.fingercrm.cn/",r="b2b.fingercrm.cn"==location.host?"http://cm.fingercrm.cn/":"http://tuyi.dev.fingercrm.cn/";t.exports={api_prefix:"",error_url:"/login.html#/error",index_url:"/console.html#/",inner_host:i,cardHostUrl:n,cardRedirectUrl:r}},732:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=a(6),n=a(504),r=a.n(n),s=a(491),o=a(27),l=a.n(o),c=a(10),u=a(12),d=a(2),p=(a.n(d),a(15),a(7)),f=a.n(p),m=(a(11),a(19),a(16)),h=(a.n(m),a(17)),v=(a.n(h),a(18)),g=(a.n(v),a(23)),b=(a.n(g),a(22));a.n(b);i.default.config.productionTip=!1,i.default.use(l.a),i.default.use(c.a),i.default.use(u.a),window.api_prefix=f.a.api_prefix;new i.default({el:"#app",router:s.a,template:"<App/>",components:{App:r.a},methods:{}})},81:function(t,e,a){var i=a(0)(a(176),a(227),null,null,null);t.exports=i.exports},92:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),a(105),a(103),a(104),window.Quill||(window.Quill=a(80)),e.default={name:"quill-editor",data:function(){return{_content:"",defaultModules:{toolbar:[["bold","italic","underline","strike"],["blockquote","code-block"],[{header:1},{header:2}],[{list:"ordered"},{list:"bullet"}],[{script:"sub"},{script:"super"}],[{indent:"-1"},{indent:"+1"}],[{direction:"rtl"}],[{size:["small",!1,"large","huge"]}],[{header:[1,2,3,4,5,6,!1]}],[{color:[]},{background:[]}],[{font:[]}],[{align:[]}],["clean"],["link","image","video"]]}}},props:{content:String,value:String,disabled:Boolean,options:{type:Object,required:!1,default:function(){return{}}}},mounted:function(){this.initialize()},beforeDestroy:function(){this.quill=null},methods:{initialize:function(){if(this.$el){var t=this;t.options.theme=t.options.theme||"snow",t.options.boundary=t.options.boundary||document.body,t.options.modules=t.options.modules||t.defaultModules,t.options.modules.toolbar=void 0!==t.options.modules.toolbar?t.options.modules.toolbar:t.defaultModules.toolbar,t.options.placeholder=t.options.placeholder||"Insert text here ...",t.options.readOnly=void 0!==t.options.readOnly&&t.options.readOnly,t.quill=new Quill(t.$refs.editor,t.options),(t.value||t.content)&&t.quill.pasteHTML(t.value||t.content),t.quill.on("selection-change",function(e){e?t.$emit("focus",t.quill):t.$emit("blur",t.quill)}),t.quill.on("text-change",function(e,a,i){var n=t.$refs.editor.children[0].innerHTML,r=t.quill.getText();"<p><br></p>"===n&&(n=""),t._content=n,t.$emit("input",t._content),t.$emit("change",{editor:t.quill,html:n,text:r})}),this.disabled&&this.quill.enable(!1),t.$emit("ready",t.quill)}}},watch:{content:function(t,e){this.quill&&(t&&t!==this._content?(this._content=t,this.quill.pasteHTML(t)):t||this.quill.setText(""))},value:function(t,e){this.quill&&(t&&t!==this._content?(this._content=t,this.quill.pasteHTML(t)):t||this.quill.setText(""))},disabled:function(t,e){this.quill&&this.quill.enable(!t)}}}},94:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),function(t){var i=(a(6),a(166)),n=(a.n(i),a(80)),r=a.n(n),s=a(95),o=a(96);r.a.register("modules/imageImport",s.a),r.a.register("modules/imageResize",o.a),e.default={name:"quilleditor",props:{content:String,attr:String,index:Number,readonly:{type:Boolean,default:!1}},data:function(){return{dcontent:this.content,editorOption:{modules:{toolbar:[[{size:["small",!1,"large"]}],["bold","italic"],[{list:"ordered"},{list:"bullet"}],[{color:[]},{background:[]}]],history:{delay:1e3,maxStack:50,userOnly:!1},imageImport:!0,imageResize:{displaySize:!0}}},uploadUrl:api_prefix+"/common/file/upload",config:{headers:{"Content-Type":"multipart/form-data"}}}},computed:{imgUploadPath:function(){this.uploadUrl=api_prefix+this.action}},methods:{onEditorBlur:function(t){t.editor,t.html,t.text},onEditorFocus:function(t){t.editor,t.html,t.text},onEditorReady:function(t){t.editor,t.html,t.text},onEditorChange:function(t){var e=(t.editor,t.html);t.text;this.$emit("input",e,this.attr,this.index)},uploadFile:function(t){if(t.length>0){var e=new FormData;e.append("fileType","jpg"),e.append("file",t[0]),this.$http.post(this.uploadUrl,e,this.config).then(function(t){var e=this.$refs.myTextEditor.quill;e.focus(),e.insertEmbed(e.getSelection().index,"image",t.body.body.key)})}},addMyImageModule:function(){var e='<span class="ql-formats"><button type="button" class="ql-image"><svg viewBox="0 0 18 18"> <rect class="ql-stroke" height="10" width="12" x="3" y="4"></rect> <circle class="ql-fill" cx="6" cy="7" r="1"></circle> <polyline class="ql-even ql-fill" points="5 12 5 11 7 9 8 10 11 7 13 9 13 12 5 12"></polyline> </svg></button></span>',a='<input type="file" accept="image/png, image/gif, image/jpeg, image/bmp, image/x-icon" class="ql-image"/>';e=t(e),a=t(a),e.on("click",function(t){a.click()}),t(this.$refs.myTextEditor.$el).find(".ql-toolbar.ql-snow").eq(0).append(e).append(a);var i=this;a.on("change",function(t){i.uploadFile(t.target.files),a.val("")})}},mounted:function(){this.addMyImageModule()},components:{quillEditor:i.quillEditor},watch:{content:{handler:function(t,e){if(t&&t!=e&&t!=this.dcontent){var a=this.$refs.myTextEditor.quill;this.dcontent=t,a.focus()}}}}}}.call(e,a(2))},95:function(t,e,a){"use strict";a.d(e,"a",function(){return o});var i=a(76),n=a.n(i),r=a(77),s=a.n(r),o=function(){function t(e){arguments.length>1&&void 0!==arguments[1]&&arguments[1];n()(this,t),this.quill=e,this.handleDrop=this.handleDrop.bind(this),this.handlePaste=this.handlePaste.bind(this),this.quill.root.addEventListener("drop",this.handleDrop,!1),this.quill.root.addEventListener("paste",this.handlePaste,!1)}return s()(t,[{key:"handleDrop",value:function(t){t.preventDefault(),t.dataTransfer&&t.dataTransfer.files&&t.dataTransfer.files.length&&this.readFiles(t.dataTransfer.files,this.insert.bind(this))}},{key:"handlePaste",value:function(t){var e=this;t.clipboardData&&t.clipboardData.items&&t.clipboardData.items.length&&this.readFiles(t.clipboardData.items,function(t){e.quill.getSelection()||setTimeout(function(){return e.insert(t)},0)})}},{key:"insert",value:function(t){var e=(this.quill.getSelection()||{}).index||this.quill.getLength();this.quill.insertEmbed(e,"image",t,"user")}},{key:"readFiles",value:function(t,e){[].forEach.call(t,function(t){if(t.type.match(/^image\/(gif|jpe?g|a?png|svg|webp|bmp|vnd\.microsoft\.icon)/i)){var a=new FileReader;a.onload=function(t){e(t.target.result)};var i=t.getAsFile?t.getAsFile():t;i instanceof Blob&&a.readAsDataURL(i)}})}}]),t}()},96:function(t,e,a){"use strict";a.d(e,"a",function(){return o});var i=a(76),n=a.n(i),r=a(77),s=a.n(r),o=function(){function t(e){var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};n()(this,t),this.quill=e,this.options=a,this.handleClick=this.handleClick.bind(this),this.handleMousedown=this.handleMousedown.bind(this),this.handleMouseup=this.handleMouseup.bind(this),this.handleDrag=this.handleDrag.bind(this),this.checkImage=this.checkImage.bind(this),this.boxes=[],document.execCommand("enableObjectResizing",!1,"false"),this.quill.root.addEventListener("click",this.handleClick,!1)}return s()(t,[{key:"handleClick",value:function(t){if(t.target&&t.target.tagName&&"IMG"==t.target.tagName.toUpperCase()){if(this.img===t.target)return;this.img&&this.hide(),this.show(t.target)}else this.img&&this.hide()}},{key:"show",value:function(t){this.img=t,this.showResizers(),this.showSizeDisplay();var e=this.img.getBoundingClientRect();this.positionBoxes(e),this.positionSizeDisplay(e)}},{key:"hide",value:function(){this.hideResizers(),this.hideSizeDisplay(),this.img=void 0}},{key:"showResizers",value:function(){this.setUserSelect("none"),this.addBox("nwse-resize"),this.addBox("nesw-resize"),this.addBox("nwse-resize"),this.addBox("nesw-resize"),document.addEventListener("keyup",this.checkImage,!0),this.quill.root.addEventListener("input",this.checkImage,!0)}},{key:"hideResizers",value:function(){document.removeEventListener("keyup",this.checkImage),this.quill.root.removeEventListener("input",this.checkImage),this.setUserSelect(""),this.setCursor(""),this.boxes.forEach(function(t){return document.body.removeChild(t)}),this.dragBox=void 0,this.dragStartX=void 0,this.preDragWidth=void 0,this.boxes=[]}},{key:"addBox",value:function(t){var e=document.createElement("div"),a={position:"absolute",height:"12px",width:"12px",backgroundColor:"white",border:"1px solid #777",boxSizing:"border-box",opacity:"0.80",zIndex:9,cursor:t};this.extend(e.style,a,this.options.handleStyles||{}),e.addEventListener("mousedown",this.handleMousedown,!1),document.body.appendChild(e),this.boxes.push(e)}},{key:"extend",value:function(t){for(var e=arguments.length,a=Array(e>1?e-1:0),i=1;i<e;i++)a[i-1]=arguments[i];return a.forEach(function(e){for(var a in e)e.hasOwnProperty(a)&&(t[a]=e[a])}),t}},{key:"positionBoxes",value:function(t){var e=this;[{left:t.left-6,top:t.top-6},{left:t.left+t.width-6,top:t.top-6},{left:t.left+t.width-6,top:t.top+t.height-6},{left:t.left-6,top:t.top+t.height-6}].forEach(function(t,a){e.extend(e.boxes[a].style,{top:Math.round(t.top+window.pageYOffset)+"px",left:Math.round(t.left+window.pageXOffset)+"px"})})}},{key:"handleMousedown",value:function(t){this.dragBox=t.target,this.dragStartX=t.clientX,this.preDragWidth=this.img.width||this.img.naturalWidth,this.setCursor(this.dragBox.style.cursor),document.addEventListener("mousemove",this.handleDrag,!1),document.addEventListener("mouseup",this.handleMouseup,!1)}},{key:"handleMouseup",value:function(){this.setCursor(""),document.removeEventListener("mousemove",this.handleDrag),document.removeEventListener("mouseup",this.handleMouseup)}},{key:"handleDrag",value:function(t){if(this.img){this.dragBox==this.boxes[0]||this.dragBox==this.boxes[3]?this.img.width=Math.round(this.preDragWidth-t.clientX-this.dragStartX):this.img.width=Math.round(this.preDragWidth+t.clientX-this.dragStartX);var e=this.img.getBoundingClientRect();this.positionBoxes(e),this.positionSizeDisplay(e)}}},{key:"setUserSelect",value:function(t){var e=this;["userSelect","mozUserSelect","webkitUserSelect","msUserSelect"].forEach(function(a){e.quill.root.style[a]=t,document.documentElement.style[a]=t})}},{key:"setCursor",value:function(t){[document.body,this.img,this.quill.root].forEach(function(e){return e.style.cursor=t})}},{key:"checkImage",value:function(){this.img&&this.hide()}},{key:"showSizeDisplay",value:function(){if(this.options.displaySize){this.display=document.createElement("div");var t={position:"absolute",font:"12px/1.0 Arial, Helvetica, sans-serif",padding:"4px 8px",textAlign:"center",backgroundColor:"white",color:"#333",border:"1px solid #777",boxSizing:"border-box",opacity:"0.80",cursor:"default"};this.extend(this.display.style,t,this.options.displayStyles||{}),document.body.appendChild(this.display)}}},{key:"hideSizeDisplay",value:function(){document.body.removeChild(this.display),this.display=void 0}},{key:"positionSizeDisplay",value:function(t){if(this.display&&this.img){var e=this.getCurrentSize();if(this.display.innerHTML=e.join(" &times; "),e[0]>120&&e[1]>30){var a=this.display.getBoundingClientRect();this.extend(this.display.style,{left:Math.round(t.left+t.width+window.pageXOffset-a.width-8)+"px",top:Math.round(t.top+t.height+window.pageYOffset-a.height-8)+"px"})}else this.extend(this.display.style,{left:Math.round(t.left+t.width+window.pageXOffset+8)+"px",top:Math.round(t.top+t.height+window.pageYOffset+8)+"px"})}}},{key:"getCurrentSize",value:function(){return[this.img.width,Math.round(this.img.width/this.img.naturalWidth*this.img.naturalHeight)]}}]),t}()}},[732]);
//# sourceMappingURL=ticketCenter.73bfe.js.map